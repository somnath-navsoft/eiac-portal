<app-loader *ngIf="!loader"></app-loader>
<div class="main-content">

    <section>
        <div class="form_main">
            <div class="container-fluid">
                <div class="form-hdr">
                    <div class="row">
                        <div class="col-md-12 p-0 mb-3">
                            <div class="dashbrd-hdr">
                                <h3>No Objection Certificate</h3>
                            </div>
                        </div>
                    </div>
                </div> 

                <!-- Header Stepper -->
                <div id="page_header"></div>
                <ng-container>
                    <div class="row user_main">
                        <div class="col-md-12">
                            <div class="user-steps">
                                <!--   -->
                                <ng-container *ngFor="let item of headerSteps; let k=index;">
                                    <div class="user-next" [ngClass]="(item.activeClass != '') ? item.activeClass : ''">
                                        <div class="usernext-icon">
                                            <span [ngClass]="(item.activeClass === 'user-done') ? 'icon-tick' : item.icon"></span>
                                        </div>

                                        <div class="user-details-pending" id="course_header">
                                            <span [innerHTML]="item.desc" (click)="Service.headerStepMove(item.title, headerSteps,'menu')" [ngStyle]="{'cursor':'pointer'}"></span>
                                        </div>
                                    </div>
                                    <div class="next-step" *ngIf="k < headerSteps.length-1">
                                        <span class="icon-arrow-right"></span>
                                    </div>
                                </ng-container>                              
                            </div>
                        </div>
                    </div>
                </ng-container>

                <!-- Header Stepper -->
                
                <div class="cust-stepper" id="application_information">
                    <form #ngForm1="ngForm" (ngSubmit)="onSubmitApplicationInformation(ngForm1);" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr form_subhdr">
                                                <h5>1. APPLICANT INFORMATION</h5>
                                                <span>*If you want the certificate issued on a different address please update below</span>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>

                                    <div class="row mt-3">
                                        <div class="col-md-12 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>CAB Name official and Commercial Name</mat-label>
                                                <input readonly="true" (keypress)="Service.inputFilter($event, Service.regExName)" matInput autocomplete="off" placeholder="CAB Name official and Commercial Name" name="official_commercial_name" [(ngModel)]="step1Data.official_commercial_name"  required>
                                                <mat-error></mat-error>      
                                            </mat-form-field>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col-md-8">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Registered Physical Location Address</mat-label>
                                                <input matInput (keyup)="getPlaceName($event)" [matAutocomplete] = "auto"   
                                                placeholder="Registered Physical Location Address" name="physical_location_address" 
                                                [(ngModel)]="step1Data.physical_location_address" required>
                                                <mat-autocomplete #auto = "matAutocomplete" >
                                                    <mat-option *ngFor = "let searchCountryList of searchCountryLists" [value] = "searchCountryList.place_name">
                                                    {{searchCountryList.place_name}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div> 

                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Mailing Address</mat-label>
                                                <input type="email"  matInput autocomplete="off"  placeholder="Mailing Address"  
                                                 name="mailing_address" [(ngModel)]="step1Data.mailing_address"  required>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>PO Box No./ZIP Code</mat-label>
                                                <input  (keypress)="Service.IsNumeric($event)" 
                                                matInput autocomplete="off"  placeholder="PO BOX NO./Zip Code" name="po_box" 
                                                [(ngModel)]="step1Data.po_box" required>
                                                <mat-error></mat-error> 
                                            </mat-form-field>
                                            <p class="error" *ngIf="step1Data.po_box && !Service.checkInput('onlyNumberWithPlus',step1Data.po_box)">Please Enter Correct Zip Code</p> 
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Country</mat-label>
                                                <mat-select placeholder="Select" name="country" [(ngModel)]="step1Data.country" required>
                                                    <mat-option [value]="item.name" (click)="statelistById(item.id)" *ngFor="let item of getCountryLists; let i = index;">{{item.name}}</mat-option>
                                                </mat-select> 
                                            </mat-form-field>
                                        </div>
                                        
                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>State</mat-label>
                                                <mat-select placeholder="Select" name="state" [(ngModel)]="step1Data.state"  required>
                                                    <mat-option [value]="item.name" (click)="citylistById(item.id)" *ngFor="let item of allStateList; let i = index;">{{item.name}}</mat-option>
                                                </mat-select>    
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>City</mat-label>
                                                <mat-select placeholder="Select" name="city" [(ngModel)]="step1Data.city"  required>
                                                    <mat-option [value]="item.name" *ngFor="let item of allCityList; let i = index;">{{item.name}}</mat-option>
                                                </mat-select>      
                                            </mat-form-field>
                                        </div>
                                    </div>

                                    <div class="row" id="2ndStep">
                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Telephone Number</mat-label>
                                                <input type="text"  (keypress)="Service.IsNumeric($event)" 
                                                matInput autocomplete="off"  placeholder="Telephone No" name="telephone" 
                                                [(ngModel)]="step1Data.telephone" maxlength="15" minlength="10"  required>
                                                <mat-error></mat-error>                                            
                                            </mat-form-field>
                                            <p class="error" *ngIf="step1Data.telephone && !Service.checkInput('onlyNumberWithPlus',step1Data.telephone)">Please Enter Correct Telephone Number</p> 
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Fax Number</mat-label>
                                                <input matInput (keypress)="Service.IsNumeric($event)" autocomplete="off"  
                                                placeholder="Fax No"  name="fax_no" [(ngModel)]="step1Data.fax_no">
                                                <mat-error></mat-error> 
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Official E-mail Address</mat-label>
                                                <input readonly="true"  matInput autocomplete="off"  placeholder="Official Email Address"  name="official_email"  
                                                [(ngModel)]="step1Data.official_email"  required>
                                                <mat-error></mat-error> 
                                            </mat-form-field>
                                            <p class="error" *ngIf="step1Data.official_email && !Service.checkInput('email',step1Data.official_email)">Please Enter Correct Email Id</p>
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Official Website</mat-label>
                                                <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                matInput autocomplete="off"  placeholder="Official Website"  
                                                name="official_website" [(ngModel)]="step1Data.official_website">
                                                <mat-error></mat-error>  
                                            </mat-form-field>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Date of Establishment</mat-label>
                                                <input matInput  readonly="true" 
                                                [matDatepicker]="date_of_establishment" [max]="today"  placeholder="Date Of Establishment" 
                                                name="date_of_establishment" [(ngModel)]="step1Data.date_of_establishment">
                                                <!-- <mat-datepicker-toggle matSuffix [for]="date_of_establishment"></mat-datepicker-toggle> -->
                                                <mat-datepicker #date_of_establishment disabled="false"></mat-datepicker>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Legal-Professional/Commercial/Trade License</mat-label>
                                                <input matInput readonly="true" name="tradelic" [(ngModel)]="selectTradeLicName"
                                                autocomplete="off"  placeholder="Legal-Professional/Commercial/Trade License"  >
                                                <a href="{{selectTradeLicPath}}" target="_blank">
                                                    <span class="icon-eye visible-pwd"></span>
                                                    </a>
                                            </mat-form-field>
                                        </div>                                                                              

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">  
                                                <!-- (click)="Service._openCalendar(issue_data)" -->
                                                <mat-label>Trade License Date of Issue</mat-label>
                                                <input matInput readonly="true"  [matDatepicker]="issue_data"  placeholder="Date of Issue" name="date_of_issue" [(ngModel)]="step1Data.date_of_issue" (dateChange)="setexDate(step1Data.date_of_issue)">
                                                <!-- <mat-datepicker-toggle matSuffix [for]="issue_data"></mat-datepicker-toggle> -->
                                                <mat-datepicker #issue_data  disabled="false" ></mat-datepicker>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Trade License Date of Expiry</mat-label>
                                                <input matInput readonly="true" [matDatepicker]="expiry_data"  readonly="true" [min]="minDate" name="date_of_expiry" 
                                                [(ngModel)]="step1Data.date_of_expiry" placeholder="Date of Expiry">
                                                <!-- <mat-datepicker-toggle matSuffix [for]="expiry_data"></mat-datepicker-toggle> -->
                                                <mat-datepicker #expiry_data disabled="false"></mat-datepicker>
                                                <mat-error></mat-error>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>OWNERSHIP OF THE ORGANIZATION</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" *ngFor="let item of ownOrgBasicInfo; let i = index;">
                                        <div class="col-12">
                                            <div class="ownr-details">
                                                <div class="row">
                                                    <div class="col-md-6 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Name</mat-label>
                                                            <input  readonly="true"  (keypress)="Service.inputFilter($event, Service.regExName)" matInput autocomplete="off"  placeholder="Name"  maxlength="20" name="ownership_name_{{i}}" [(ngModel)]="ownOrgBasicInfo[i].name" required>
                                                            <mat-error></mat-error>    
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-6 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Designation</mat-label>
                                                            <input  readonly="true"  (keypress)="Service.inputFilter($event, Service.regExName)" matInput autocomplete="off" required placeholder="Designation" name="ownership_designation_{{i}}" [(ngModel)]="ownOrgBasicInfo[i].designation" required>
                                                            <mat-error></mat-error> 
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Mobile Phone No.</mat-label>
                                                            <input  readonly="true" type="text" (keypress)="Service.IsNumeric($event)" maxlength="15" minlength="10" matInput autocomplete="off"  placeholder="Mobile No." name="ownership_phone_no_{{i}}" [(ngModel)]="ownOrgBasicInfo[i].phone_no"  required>
                                                            <mat-error></mat-error>
                                                        </mat-form-field>
                                                        <p class="error" *ngIf="ownOrgBasicInfo[i].phone_no && !Service.checkInput('onlyNumberWithPlus',ownOrgBasicInfo[i].phone_no)">Please Enter Correct Telephone Number</p> 
                                                    </div>
                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Land Line Phone No.</mat-label>
                                                            <input  readonly="true" matInput (keypress)="Service.IsNumeric($event)"  maxlength="15" minlength="10" autocomplete="off"  placeholder="Landline No."  name="ownership_mobile_no_{{i}}" [(ngModel)]="ownOrgBasicInfo[i].mobile_no" required >
                                                            <mat-error></mat-error>      
                                                        </mat-form-field>
                                                        <p class="error" *ngIf="ownOrgBasicInfo[i].mobile_no && !Service.checkInput('onlyNumberWithPlus',ownOrgBasicInfo[i].mobile_no)">Please Enter Correct Telephone Number</p> 
                                                    </div>
                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Email Address</mat-label>
                                                            <input  readonly="true" type="email" matInput autocomplete="off"  placeholder="Email Address" name="ownership_email_{{i}}" [(ngModel)]="ownOrgBasicInfo[i].email" required >
                                                            <mat-error></mat-error>
                                                        </mat-form-field>
                                                        <p class="error" *ngIf="ownOrgBasicInfo[i].email && !Service.checkInput('email',ownOrgBasicInfo[i].email)">Please Enter Correct Email Id</p>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <ng-container *ngIf="step1Data.is_bod == '1'">
                                    <div class="row"  id="ownOrgBasicInfos">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>BOARD MEMBERS</h5>
                                            </div>
                                        </div>
                                    </div>

                                    
                                        <div class="row" *ngFor="let item of ownOrgMembInfo; let i = index;">
                                            <div class="col-12">
                                                <div class="ownr-details">
                                                    <div class="row">
                                                        <div class="col-md-4 col-sm-12">
                                                            <mat-form-field class="cab-data">
                                                                <mat-label>Name the members of Board of Directors (BOD) (if any)</mat-label>
                                                                <input matInput readonly="true"  (keypress)="Service.inputFilter($event, Service.regExName)" placeholder="Name the members of Board of Directors (BOD)"  name="bod_directors_name_{{i}}" [(ngModel)]="ownOrgMembInfo[i].name"  >
                                                            </mat-form-field>
                                                        </div>
        
                                                        <div class="col-md-8 col-sm-12">
                                                            <mat-form-field class="cab-data">
                                                                <mat-label>List the companies name of BOD members</mat-label>
                                                                <input matInput readonly="true" placeholder="List the companies name of BOD members"  (keypress)="Service.inputFilter($event, Service.regExName)" name="company_name_bod_{{i}}" [(ngModel)]="ownOrgMembInfo[i].bod_company"  >
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
        
                                                    <div class="row">
                                                        <div class="col-md-4 col-sm-12">
                                                            <mat-form-field class="cab-data">
                                                                <mat-label>Authorized Contact Person Name</mat-label>
                                                                <input matInput readonly="true" placeholder="Authorized Contact Person Name"   name="authorized_contact_person_{{i}}" [(ngModel)]="ownOrgMembInfo[i].authorized_contact_person"  (keypress)="Service.inputFilter($event, Service.regExName)" >
                                                            </mat-form-field>
                                                        </div>
        
                                                        <div class="col-md-4 col-sm-12">
                                                            <mat-form-field class="cab-data">
                                                                <mat-label>Designation</mat-label>
                                                                <input  readonly="true" (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="Designation" name="bod_designation_{{i}}" [(ngModel)]="ownOrgMembInfo[i].designation" >
                                                            </mat-form-field>
                                                        </div>
        
                                                        <div class="col-md-4 col-sm-12">
                                                            <mat-form-field class="cab-data">
                                                                <mat-label>Mobile Phone No.</mat-label>
                                                                <input  readonly="true" type="text" maxlength="15" minlength="10" 
                                                                (keypress)="Service.IsNumeric($event)" matInput placeholder="Mobile Phone No." 
                                                                name="bod_mobile_no_{{i}}" [(ngModel)]="ownOrgMembInfo[i].mobile_no" >
                                                            </mat-form-field>
                                                            <p class="error" *ngIf="ownOrgMembInfo[i].mobile_no && !Service.checkInput('onlyNumberWithPlus',ownOrgMembInfo[i].mobile_no)">Please Enter Correct Telephone Number</p> 
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div> 
                                    </ng-container>
                                                                     
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <a class="cancel-bttn" routerLink="/dashboard/cab_client/application-registration" type="button">CANCEL</a>
                                        <button class="cancel-bttn" (click)="onSubmitApplicationInformation(ngForm1, true)" type="button">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health">CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="cab_information" [ngStyle]="{'display':'none'}">
                    <form #ngForm2="ngForm" (ngSubmit)="onSubmitCabInformation(ngForm2);" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr form_subhdr">
                                                <h5>2. CAB INFORMATION</h5>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- START INPUT FIELDS -->
                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>CAB TYPE :</h5>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Add Options -->
                                    <div class="row mt-4"> 
                                        <div class="col-md-12 col-sm-12">
                                            <div class="activity_wrapper confirm cab_info">                                           
                                                <div class="activity_head">
                                                    a) Laboratory:
                                                </div>
                                                <div class="check_data_activities">
                                                    <!-- <mat-checkbox-group name="cab_type_laboratory"> -->
                                                    <mat-checkbox  name="testing_laboratory" 
                                                [(ngModel)]="step2Data.cabTypeLaboratory_testing" [ngModelOptions]="{standalone: true}" required>
                                                    Testing Laboratory
                                                    </mat-checkbox>
                                                    <mat-checkbox  name="calibration_laboratory" 
                                                [(ngModel)]="step2Data.cabTypeLaboratory_calibration" [ngModelOptions]="{standalone: true}" required>
                                                    Calibration Laboratory
                                                    </mat-checkbox>
                                                    <!-- </mat-checkbox-group> -->
                                                    <!-- <mat-radio-group name="cab_type_laboratory" 
                                                    [(ngModel)]="step2Data.cabTypeLaboratory" #selectCabLab="ngModel" required>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="initial_data">
                                                                <mat-radio-button value="testing_laboratory">Testing Laboratory</mat-radio-button>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="initial_data">
                                                                <mat-radio-button value="calibration_laboratory">Calibration Laboratory</mat-radio-button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    </mat-radio-group> -->
                                                    <!-- <div class="row">
                                                    <div class="col-md-6">
                                                        <p class="error" *ngIf="isFormSubmitted == true && selectCabLab.errors?.required">Please select anyone option</p>
                                                    </div>
                                                </div> -->
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 col-sm-12">
                                            <div class="activity_wrapper confirm cab_info">
                                                <div class="activity_head">
                                                    b) Inspection Body:
                                                </div>
                                                <div class="check_data_activities">
                                                    <!-- <mat-checkbox-group name="cab_type_inspection"> -->
                                                        <mat-checkbox  name="engineering_ib" 
                                                    [(ngModel)]="step2Data.cabTypeInspectionBody_engineering_ib" [ngModelOptions]="{standalone: true}" required>
                                                        Engineering IB
                                                        </mat-checkbox>
                                                        <mat-checkbox  name="sustainability_ib" 
                                                    [(ngModel)]="step2Data.cabTypeInspectionBody_sustainability_ib" [ngModelOptions]="{standalone: true}" required>
                                                        Sustainability IB
                                                        </mat-checkbox>
                                                    <!-- </mat-checkbox-group> -->
                                                    <!-- <mat-radio-group name="cab_type_inspection" 
                                                    [(ngModel)]="step2Data.cabTypeInspectionBody" #selectCabInspection="ngModel" required>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="initial_data">
                                                                <mat-radio-button value="engineering_ib">Engineering IB</mat-radio-button>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="initial_data">
                                                                <mat-radio-button value="sustainability_ib">Sustainability IB</mat-radio-button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    </mat-radio-group> -->
                                                </div>
                                                <!-- <div class="row">
                                                    <div class="col-md-6">
                                                        <p class="error" *ngIf="isFormSubmitted == true && selectCabInspection.errors?.required">Please select anyone option</p>
                                                    </div>
                                                </div> -->
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row"> 
                                        <div class="col-md-12 col-sm-12">
                                            <div class="activity_wrapper confirm cab_info">
                                                <div class="activity_head">
                                                    c) Certification Body:
                                                </div>
                                                <div class="check_data_activities">

                                                    <!-- <mat-checkbox-group name="cab_type_certification"> -->
                                                        <mat-checkbox  name="management_system_cb" 
                                                    [(ngModel)]="step2Data.cabTypeCertificationBody_management_system_cb" [ngModelOptions]="{standalone: true}" required>
                                                        Management System CB
                                                        </mat-checkbox>
                                                        <mat-checkbox  name="personal_cb" 
                                                    [(ngModel)]="step2Data.cabTypeCertificationBody_personal_cb" [ngModelOptions]="{standalone: true}" required>
                                                        Personal CB
                                                        </mat-checkbox>
                                                        <mat-checkbox  name="product_cb" 
                                                    [(ngModel)]="step2Data.cabTypeCertificationBody_product_cb" [ngModelOptions]="{standalone: true}" required>
                                                        Product CB
                                                        </mat-checkbox>
                                                    <!-- </mat-checkbox-group> -->

                                                    <!-- <mat-radio-group name="cab_type_certification" 
                                                    [(ngModel)]="step2Data.cabTypeCertificationBody" #selectCabCB="ngModel" required>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="initial_data">
                                                                <mat-radio-button value="management_system_cb">Management System CB</mat-radio-button>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="initial_data">
                                                                <mat-radio-button value="personal_cb">Personal CB</mat-radio-button>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="initial_data">
                                                                <mat-radio-button value="product_cb">Product CB</mat-radio-button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    </mat-radio-group> -->
                                                </div>
                                                <!-- <div class="row">
                                                    <div class="col-md-6">
                                                        <p class="error" *ngIf="isFormSubmitted == true && selectCabCB.errors?.required">Please select anyone option</p>
                                                    </div>
                                                </div> -->
                                            </div>
                                        </div>
                                        <div class="col-md-12 col-sm-12"> 
                                            <div class="activity_wrapper confirm cab_info">
                                                <div class="activity_head">
                                                    d) Halal CAB:
                                                </div>
                                                <div class="check_data_activities">

                                                    <!-- <mat-checkbox-group name="cab_type_halal"> -->
                                                        <mat-checkbox  name="cabTypeHalal_lab" 
                                                    [(ngModel)]="step2Data.cabTypeHalal_lab" [ngModelOptions]="{standalone: true}" required>
                                                        Lab
                                                        </mat-checkbox>
                                                        <mat-checkbox  name="cabTypeHalal_ib" 
                                                    [(ngModel)]="step2Data.cabTypeHalal_ib" [ngModelOptions]="{standalone: true}" required>
                                                        IB
                                                        </mat-checkbox>
                                                        <mat-checkbox  name="cabTypeHalal_cb" 
                                                    [(ngModel)]="step2Data.cabTypeHalal_cb" [ngModelOptions]="{standalone: true}" required>
                                                        CB
                                                        </mat-checkbox>
                                                    <!-- </mat-checkbox-group> -->
                                                    <!-- <mat-radio-group name="cab_type_halal" 
                                                    [(ngModel)]="step2Data.cabTypeHalal" #selectCabHalal="ngModel" required>
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="initial_data">
                                                                <mat-radio-button value="lab">Lab</mat-radio-button>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="initial_data">
                                                                <mat-radio-button value="ib">IB</mat-radio-button>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <div class="initial_data">
                                                                <mat-radio-button value="cb">CB</mat-radio-button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    </mat-radio-group> -->
                                                </div>
                                                <!-- <div class="row">
                                                    <div class="col-md-6">
                                                        <p class="error" *ngIf="isFormSubmitted == true && selectCabHalal.errors?.required">Please select anyone option</p>
                                                    </div>
                                                </div> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <a href="javascript:void(0)" class="cancel-bttn"  type="button" 
                                        (click)="Service.headerStepMove('application_information',headerSteps,'menu','cab_information')">BACK</a>
                                        <button class="cancel-bttn" (click)="onSubmitCabInformation(ngForm2, true)" type="button">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health">CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="list_service_scope" [ngStyle]="{'display':'none'}">
                    <form #ngForm3="ngForm" (ngSubmit)="onSubmitListServiceScope(ngForm3);" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr">
                                                <h5>3. LIST OF SERVICES SCOPE</h5>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>FOR TESTING LAB : (ISO / IEC 17025) </h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-md-12 col-sm-6 p-0">
                                            <div class="cab-data">
                                                <!-- FOR TESTING LAB -->
                                                <ul [ngStyle]="{'list-style':'none'}">
                                                    <ng-container *ngFor="let item of testingLabCheckboxes; let k=index;">
                                                        <li>
                                                    <mat-checkbox class="col-md-3"  name="scope_options" (change)="checkItemClick($event,'testing_lab')" 
                                                    [(ngModel)]="item.checked" [ngModelOptions]="{standalone: true}" required>{{item.label}}</mat-checkbox> 
                                                        </li>
                                                    </ng-container>
                                                    <li>
                                                <!-- other check -->
                                                <mat-checkbox class="col-md-3" name="testingLabCheckItemOthers" (change)="checkOthersItemClick($event, 'testing_lab')" 
                                                [(ngModel)]="testingLabCheckItemOthers">Others</mat-checkbox>
                                                    </li>
                                                    <li>
                                                        <ng-container *ngIf="testingLabCheckItemOthers">
                                                            <mat-form-field class="cab-data other_data">
                                                                <mat-label>Type Other</mat-label>
                                                                <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                matInput name="testingLabCheckItemOtherInput" 
                                                                [(ngModel)]="testingLabCheckItemOtherInput" placeholder="Others" required>
                                                            </mat-form-field> 
                                                        </ng-container>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Table -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="table-content-health">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th>Type of task</th>
                                                            <th>Material/Products</th>
                                                            <th>Task Name</th>
                                                            <th>Standard Method</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr  *ngFor="let item of testingLabInfo; let i = index;">
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="task_type_{{i}}" [(ngModel)]="testingLabInfo[i].task_type" > 
                                                                </mat-form-field>
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="product_{{i}}" [(ngModel)]="testingLabInfo[i].product" > 
                                                                </mat-form-field>
                                                                
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="" name="task_name_{{i}}" 
                                                                    [(ngModel)]="testingLabInfo[i].task_name" > 
                                                                </mat-form-field>
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="" name="method_{{i}}"
                                                                     [(ngModel)]="testingLabInfo[i].method" > 
                                                                </mat-form-field>
                                                                </td>
                                                            <td class="content-icn">
                                                                <span *ngIf="i >= 0" class="icon-add" (click)="addRow(testingLabInfo)"></span> &nbsp;
                                                                <span *ngIf="i >= 1" class="icon-cross" (click)="removeRow(testingLabInfo,i)"></span>
                                                            </td>
                                                        </tr>
                                                    
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                    </div>
                                    <!-- calibration lab -->
                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>FOR CALIBRATION LAB : (ISO / IEC 17025) </h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row  mt-3">
                                        <div class="col-md-12 col-sm-6 p-0">
                                            <div class="cab-data">
                                                <!-- FOR TESTING LAB -->
                                                <ul [ngStyle]="{'list-style':'none'}">
                                                    <ng-container *ngFor="let item of calibrationLabCheckboxes; let k=index;">
                                                        <li>
                                                    <mat-checkbox class="col-md-3"  name="scope_options" (change)="checkItemClick($event,'calibration_lab')" 
                                                    [(ngModel)]="item.checked" [ngModelOptions]="{standalone: true}" required>{{item.label}}</mat-checkbox> 
                                                        </li>
                                                    </ng-container>
                                                    <li>
                                                <!-- other check -->
                                                <mat-checkbox  class="col-md-3" name="calibrationLabCheckItemOthers" (change)="checkOthersItemClick($event, 'calibration_lab')" 
                                                [(ngModel)]="calibrationLabCheckItemOthers">Others</mat-checkbox>
                                                    </li>
                                                    <li>
                                                        <ng-container *ngIf="calibrationLabCheckItemOthers">
                                                            <mat-form-field class="cab-data other_data">
                                                                <mat-label>Type Other</mat-label>
                                                                <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                matInput name="calibrationLabCheckItemOtherInput" 
                                                                [(ngModel)]="calibrationLabCheckItemOtherInput" placeholder="Others" required>
                                                            </mat-form-field> 
                                                        </ng-container>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Table -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="table-content-health">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th>Calibration Field/Measured Quantity</th>
                                                            <th>Calibration Methods</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr  *ngFor="let item of calibrationLabInfo; let i = index;">
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="measured_quantity_{{i}}" [(ngModel)]="calibrationLabInfo[i].measured_quantity" > 
                                                                </mat-form-field>
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="methods_{{i}}" [(ngModel)]="calibrationLabInfo[i].methods" > 
                                                                </mat-form-field>
                                                                
                                                            </td>                                                            
                                                            <td class="content-icn">
                                                                <span *ngIf="i >= 0" class="icon-add" (click)="addRow(calibrationLabInfo)"></span> &nbsp;
                                                                <span *ngIf="i >= 1" class="icon-cross" (click)="removeRow(calibrationLabInfo,i)"></span>
                                                            </td>
                                                        </tr>
                                                    
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                    </div>

                                    <!-- For certification bodies -->
                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>FOR CERTIFICATION BODIES : ISO / IEC 17021 (CERTIFICATION OF MANAGEMENT SYSTEMS) :</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-md-12 col-sm-6 p-0">
                                            <div class="cab-data">
                                                <!-- FOR CB -->
                                                <ul [ngStyle]="{'list-style':'none'}">
                                                    <ng-container *ngFor="let item of certificationBodiesCheckboxesFirst; let k=index;">
                                                    <li>
                                                    <mat-checkbox class="col-md-3"  name="scope_options" (change)="checkItemClick($event,'certification_body_first')" 
                                                    [(ngModel)]="item.checked" [ngModelOptions]="{standalone: true}" required>{{item.label}}</mat-checkbox> 
                                                        </li>
                                                    </ng-container>
                                                    <li>
                                                <!-- other check -->
                                                <mat-checkbox  class="col-md-3" name="certificationBodiesCheckItemOthersFirst" 
                                                (change)="checkOthersItemClick($event, 'certification_body_first')" 
                                                [(ngModel)]="certificationBodiesCheckItemOthersFirst">Others</mat-checkbox>
                                                    </li>
                                                    <li>
                                                        <ng-container *ngIf="certificationBodiesCheckItemOthersFirst">
                                                            <mat-form-field class="cab-data other_data">
                                                                <mat-label>Type Other</mat-label>
                                                                <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                matInput name="certificationBodiesCheckItemOthersFirstInput" 
                                                                [(ngModel)]="certificationBodiesCheckItemOthersFirstInput" placeholder="Others" required>
                                                            </mat-form-field> 
                                                        </ng-container>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3"> 
                                        <div class="col-md-12 p-0">
                                            <div class="cab-data">
                                                <!-- @{{certificationBodiesCheckboxesForProducts}} -->
                                                <mat-checkbox class="col-md-12"  name="scope_options" 
                                                [(ngModel)]="step3Data.certificationBodiesCheckboxesForProducts" 
                                                [ngModelOptions]="{standalone: true}">ISO/ IEC 17065 (CERTIFICATION OF PRODUCTS, PROCESES AND SERVICES )</mat-checkbox>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-md-12 p-0">
                                            <div class="cab-data">
                                                <!-- @{{certificationBodiesCheckboxesForPersons}} -->
                                                <mat-checkbox class="col-md-12"  name="scope_options" 
                                                [(ngModel)]="step3Data.certificationBodiesCheckboxesForPersons" 
                                                [ngModelOptions]="{standalone: true}">ISO/ IEC 17024 (CERTIFICATION OF PERSONS)</mat-checkbox>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- <div class="row mt-3">
                                        <div class="col-md-12 p-0">
                                            <div class="cab-data">
                                                <mat-checkbox class="col-md-12"  name="scope_options" 
                                                [(ngModel)]="step3Data.certificationBodiesCheckboxesForInspection" 
                                                [ngModelOptions]="{standalone: true}">FOR INSPECTION BODIES: (ISO/IEC 17020)</mat-checkbox>
                                            </div>
                                        </div>
                                    </div> -->
                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>FOR INSPECTION BODIES: (ISO/IEC 17020) : </h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row  mt-3">
                                        <div class="col-md-12 col-sm-6 p-0">
                                            <div class="cab-data">
                                                <!-- FOR CB -->
                                                <ul [ngStyle]="{'list-style':'none'}">
                                                    <ng-container *ngFor="let item of certificationBodiesCheckboxesSecond; let k=index;">
                                                    <li>
                                                    <mat-checkbox class="col-md-3"  name="scope_options" (change)="checkItemClick($event,'certification_body_second')" 
                                                    [(ngModel)]="item.checked" [ngModelOptions]="{standalone: true}" required>{{item.label}}</mat-checkbox> 
                                                    </li>
                                                    </ng-container>
                                                    <li>
                                                <!-- other check -->
                                                <mat-checkbox  class="col-md-3" name="certificationBodiesCheckItemOthersSecond" 
                                                (change)="checkOthersItemClick($event, 'certification_body_second')" 
                                                [(ngModel)]="certificationBodiesCheckItemOthersSecond">Others</mat-checkbox>
                                                    </li>
                                                    <li>
                                                        <ng-container *ngIf="certificationBodiesCheckItemOthersSecond">
                                                            <mat-form-field class="cab-data other_data">
                                                                <mat-label>Type Other</mat-label>
                                                                <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                matInput name="certificationBodiesCheckItemOthersSecondInput" 
                                                                [(ngModel)]="certificationBodiesCheckItemOthersSecondInput" placeholder="Others" required>
                                                            </mat-form-field> 
                                                        </ng-container>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Table -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="table-content-health">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th>Type of task</th>
                                                            <th>Material/Products</th>
                                                            <th>Task Name</th>
                                                            <th>Standard Method</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr  *ngFor="let item of certificationBodiesInfo; let i = index;">
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="task_type_cb_{{i}}" [(ngModel)]="certificationBodiesInfo[i].task_type" > 
                                                                </mat-form-field>
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="product_cb_{{i}}" [(ngModel)]="certificationBodiesInfo[i].product" > 
                                                                </mat-form-field>
                                                                
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="" 
                                                                    name="task_name_cb_{{i}}" 
                                                                    [(ngModel)]="certificationBodiesInfo[i].task_name" > 
                                                                </mat-form-field>
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="" 
                                                                    name="method_cb_{{i}}"
                                                                     [(ngModel)]="certificationBodiesInfo[i].method" > 
                                                                </mat-form-field>
                                                            </td>
                                                            <td class="content-icn">
                                                                <span *ngIf="i >= 0" class="icon-add" (click)="addRow(certificationBodiesInfo)"></span> &nbsp;
                                                                <span *ngIf="i >= 1" class="icon-cross" (click)="removeRow(certificationBodiesInfo,i)"></span>
                                                            </td>
                                                        </tr>
                                                    
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>FOR HALAL CAB :</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3"> 
                                        <div class="col-md-12 col-sm-6 p-0">
                                            <div class="cab-data">
                                                <!-- FOR TESTING LAB -->
                                                <ul [ngStyle]="{'list-style':'none'}">
                                                    <ng-container *ngFor="let item of halalCabCheckboxes; let k=index;">
                                                        <li>
                                                    <mat-checkbox class="col-md-3"  name="scope_options" (change)="checkItemClick($event,'halal_cab')" 
                                                    [(ngModel)]="item.checked" [ngModelOptions]="{standalone: true}" required>{{item.label}}</mat-checkbox> 
                                                        </li>
                                                    </ng-container>
                                                    <li>
                                                <!-- other check -->
                                                <mat-checkbox  class="col-md-3" name="halalCabCheckItemOthers" (change)="checkOthersItemClick($event, 'halal_cab')" 
                                                [(ngModel)]="halalCabCheckItemOthers">Others</mat-checkbox>
                                                    </li>
                                                    <li>
                                                        <ng-container *ngIf="halalCabCheckItemOthers">
                                                            <mat-form-field class="cab-data other_data">
                                                                <mat-label>Type Other</mat-label>
                                                                <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                matInput name="halalCabCheckItemOthersInput" 
                                                                [(ngModel)]="halalCabCheckItemOthersInput" placeholder="Others" required>
                                                            </mat-form-field> 
                                                        </ng-container>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <a href="javascript:void(0)" class="cancel-bttn"  type="button" 
                                        (click)="Service.headerStepMove('cab_information',headerSteps,'menu','list_service_scope')">BACK</a>
                                        <button class="cancel-bttn" (click)="onSubmitListServiceScope(ngForm3, true)" type="button">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health">CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="list_instrument_equipment" [ngStyle]="{'display':'none'}">
                    <form #ngForm4="ngForm" (ngSubmit)="onSubmitListInstrumentEquipment(ngForm4);" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr form_subhdr">
                                                <h5>4. LIST OF INSTRUMENTS AND EQUIPMENTS</h5>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Table -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="table-content-health">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th>#</th>
                                                            <th>Name Of Instrument / Equipment</th>
                                                            <th>Usage Of Instrument / Equipment</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr  *ngFor="let item of listOfIntEquip; let i = index;">
                                                            <td align="center"><b>{{i+1}}</b></td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="name_od_equip_{{i}}" [(ngModel)]="listOfIntEquip[i].name_od_equip" > 
                                                                </mat-form-field>
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="usage_of_equip_{{i}}" [(ngModel)]="listOfIntEquip[i].usage_of_equip" > 
                                                                </mat-form-field>                                                                
                                                            </td>                                                            
                                                            <td class="content-icn">
                                                                <span *ngIf="i >= 0" class="icon-add" (click)="addRow(listOfIntEquip)"></span> &nbsp;
                                                                <span *ngIf="i >= 1" class="icon-cross" (click)="removeRow(listOfIntEquip,i)"></span>
                                                            </td>
                                                        </tr>
                                                    
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                    </div>


                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <a href="javascript:void(0)" class="cancel-bttn"  type="button" 
                                        (click)="Service.headerStepMove('list_service_scope',headerSteps,'menu','list_instrument_equipment')">BACK</a>
                                        <button class="cancel-bttn" (click)="onSubmitListInstrumentEquipment(ngForm4, true)" type="button">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health">CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="list_staff" [ngStyle]="{'display':'none'}">
                    <form #ngForm5="ngForm" (ngSubmit)="onSubmitListStaff(ngForm5);" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr form_subhdr">
                                                <h5>5. LIST OF STAFF</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- Table -->
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="table-content-health">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th>#</th>
                                                            <th>Job Title</th>
                                                            <th>Qualification</th>
                                                            <th>Experience</th> 
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr  *ngFor="let item of listOfStaff; let i = index;">
                                                            <td align="center"><b>{{i+1}}</b></td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="job_title_{{i}}" [(ngModel)]="listOfStaff[i].job_title" > 
                                                                </mat-form-field>
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="qualification_{{i}}" [(ngModel)]="listOfStaff[i].qualification" > 
                                                                </mat-form-field>                                                                
                                                            </td>    
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput placeholder="" name="experience_{{i}}" [(ngModel)]="listOfStaff[i].experience" > 
                                                                </mat-form-field>                                                                
                                                            </td>                                                        
                                                            <td class="content-icn">
                                                                <span *ngIf="i >= 0" class="icon-add" (click)="addRow(listOfStaff)"></span> &nbsp;
                                                                <span *ngIf="i >= 1" class="icon-cross" (click)="removeRow(listOfStaff,i)"></span>
                                                            </td>
                                                        </tr>
                                                    
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <a href="javascript:void(0)" class="cancel-bttn"  type="button" 
                                        (click)="Service.headerStepMove('list_instrument_equipment',headerSteps,'menu','list_staff')">BACK</a>
                                        <button class="cancel-bttn" (click)="onSubmitListStaff(ngForm5, true)" type="button">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health">CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="authorization_application" [ngStyle]="{'display':'none'}">
                    <form #ngForm6="ngForm" (ngSubmit)="onSubmitAuthorizeApplication(ngForm6);" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr">
                                                <h5>6. AUTHORIZE OF THE APPLICATION</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="auth_details">
                                            <ul>
                                                <li>
                                                    <span class="auth_content">
                                                        I have read and been informed about the content &clauses of Law No. 2 for 2010.I have received a copy of the Law and agree to abide by the content & clauses as a Conformity Assessment Body working in the emirate of Dubai.
                                                        I, the undersigned , confirm that I will not engage in any activity of a Conformity Assessment Body prior to obtaining a permit to act form from Emirates International Accreditation Centre, within six months from the date of issuance the Professional Trade License
                                                        Please read Law No. 2 for 2010  carefully to ensure that you understand the policy before signing this document.
                                                    </span>
                                                    <!-- {{step6Data.authorization_confirm1}} -->
                                                    <!-- (change)="authorizeCheckCount($event)" -->
                                                    <!-- <mat-checkbox   name="authorization_confirm1" 
                                                    [(ngModel)]="step6Data.authorization_confirm1" >
                                                    I have read and been informed about the content &clauses of Law No. 2 for 2010.I have received a copy of the Law and agree to abide by the content & clauses as a Conformity Assessment Body working in the emirate of Dubai.
I, the undersigned , confirm that I will not engage in any activity of a Conformity Assessment Body prior to obtaining a permit to act form from Emirates International Accreditation Centre, within six months from the date of issuance the Professional Trade License
Please read Law No. 2 for 2010  carefully to ensure that you understand the policy before signing this document.
                                                </mat-checkbox> -->
                                                </li>
                                            </ul>
                                            <p class="error" *ngIf="!readTermsCond  && isApplicationSubmitted == true">Read the Terms and Conditions</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row form-bdy m-0 mt-4">
                            <div class="wrapper">
                                <div class="col-md-12">
                                    
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="row">
                                                <div class="col-md-12 p-0">
                                                    <div class="form-subhdr">
                                                        <h5>ON THE BEHALF OF THE APPLICANT COMPANY</h5>
                                                    </div>
                                                    <hr>
                                                </div>
                                            </div>


                                            <div class="row mt-3">
                                                <div class="col-12 p-0">
                                                    <div class="form-subheader-data subhead-dt">
                                                        <h5>SIGNED FOR AND ON BEHALF OF APPLICANT</h5>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-4 col-sm-12">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Organization Name</mat-label>
                                                        <input  
                                                        (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                        matInput placeholder="Organization Name" name="onbehalf_company_name" 
                                                        [(ngModel)]="step6Data.organization_name" required>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4 col-sm-12">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Full Name of Authorized Representative</mat-label>
                                                        <input  
                                                        (keypress)="Service.inputFilter($event, Service.regExName)" matInput 
                                                        placeholder="Full Name of Authorized Representative" name="onbehalf_representative_name" 
                                                        [(ngModel)]="step6Data.representative_name" required>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4 col-sm-12">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Designation</mat-label>
                                                        <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                        matInput placeholder="Designation" name="designation" 
                                                        [(ngModel)]="step6Data.behalf_designation" required>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6 col-sm-12">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Digital Signature</mat-label>
                                                        <input  
                                                        (keypress)="Service.inputFilter($event, Service.regExName)" matInput 
                                                        placeholder="Digital Signature" name="digi_sign" [(ngModel)]="step6Data.digital_signature" required>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-6 col-sm-12">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Date</mat-label>
                                                        <input matInput placeholder="Date" [matDatepicker]="onbehalf_representative_date" name="onbehalf_representative_date" 
                                                        [(ngModel)]="step6Data.application_date" [value]="Service.returnCurrentDate()">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <a href="javascript:void(0)" class="cancel-bttn"  type="button" 
                                        (click)="Service.headerStepMove('list_staff',headerSteps,'menu','authorization_application')">BACK</a>
                                        <button class="cancel-bttn" (click)="onSubmitAuthorizeApplication(ngForm6, true)" type="button">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health">CONTINUE</button>
                                </div>
                            </div>
                        </div>
                        <div class="row"> 
                            <span id="openPayDialog" (click)="openView(payComp)"></span>
                                <ng-template #payComp let-modal>
                                    <div class="main_pop">
                                        <div class="pop_close">
                                            <span class="icon-close"></span>
                                        </div>
                                        <div class="pop_thanks">
                                            <h5>Thank you</h5>
                                            <p>Your Application has been received, please wait for the Proforma Invoice to be generated, to proceed with 
                                                payment</p>
                                            <button class="submit-bttn" (click)="closeDialog()"
                                            routerLink="/dashboard/registration-status">Return to Status</button>
                                        </div>
                                    </div>
                                </ng-template>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="proforma_invoice" [ngStyle]="{'display':'none'}">
                    <form #ngForm7="ngForm" (ngSubmit)="onSubmitProformaInvoice(ngForm7);" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr form_subhdr">
                                                <h5>7. PRFORMA INVOICE</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <app-loader *ngIf="loaderPdf"></app-loader>
                                        <p *ngIf="errorLoader">Error Loading PDF</p>
                                        <pdf-viewer [src]="paymentFilePath" [show-all]="true" [stick-to-page]="true"
                                            [zoom]="1.0" [original-size]="false" [autoresize]="true"
                                            [show-borders]="true" (error)="onError($event)" (on-progress)="onProgress($event)"
                                            (after-load-complete)="completeLoadPDF($event)"
                                            [render-text]="true" [ngStyle]="{'margin':'0 auto'}">
                                        </pdf-viewer>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <a href="javascript:void(0)" class="cancel-bttn"  type="button" 
                                        (click)="Service.headerStepMove('authorization_application',headerSteps,'menu','proforma_invoice')">BACK</a>
                                        <!-- <button class="cancel-bttn" (click)="onSubmitProformaInvoice(ngForm7, true)" type="button">SAVE AS DRAFT</button> -->
                                    </div>
                                    <!-- @{{transactions |  json}} -->
                                    <button class="submit-bttn submit-health" *ngIf="!transactions.length">CONTINUE</button>
                                    <ng-container *ngIf="transactions.length">
                                        <div id="paypalPayment"></div>
                                    </ng-container>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="payment_update" [ngStyle]="{'display':'none'}">
                    <form #ngForm8="ngForm" (ngSubmit)="onSubmitPaymentUpdate(ngForm8);" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr form_subhdr">
                                                <h5>8. PAYMENT UPDATE</h5>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row  mt-3">
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Voucher Code</mat-label>
                                                <input type="number" [ngModelOptions]="{standalone: true}" required="true"
                                                matInput placeholder="Voucher Code" readonly="true"
                                                [(ngModel)]="voucherSentData.voucher_code">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <!-- (click)="Service._openCalendar(payment_date)"  [min]="minDate"-->
                                                <mat-label>Payment Date</mat-label>
                                                <input matInput [matDatepicker]="payment_date" 
                                                readonly="true"
                                                 name="payment_date" 
                                                [(ngModel)]="voucherSentData.payment_date" placeholder="Payment Date" required>
                                                <!-- <mat-datepicker-toggle matSuffix [for]="payment_date"></mat-datepicker-toggle> -->
                                                <mat-datepicker #payment_date disabled="false"></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Payment Amount</mat-label>
                                                <input type="number"  readonly="true" [ngModelOptions]="{standalone: true}" required="true"
                                                matInput placeholder="Payment Amount" 
                                                [(ngModel)]="voucherSentData.amount">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Transaction Number</mat-label>
                                                <input type="text" [ngModelOptions]="{standalone: true}" required="true"
                                                matInput placeholder="Transaction Number" 
                                                [(ngModel)]="voucherSentData.transaction_no">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Payment Method</mat-label>
                                                <mat-select placeholder="Select" name="city" [(ngModel)]="voucherSentData.payment_method" required>
                                                    <mat-option value="Cash">Cash</mat-option>
                                                    <mat-option value="Online">Online</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Payment Made By</mat-label>
                                                <input type="text" [ngModelOptions]="{standalone: true}" required="true"
                                                matInput placeholder="Payment Made By"  (keypress)="Service.inputFilter($event, Service.nameOnly)"
                                                [(ngModel)]="voucherSentData.payment_made_by">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Mobile Number</mat-label>
                                                <input type="text" [ngModelOptions]="{standalone: true}" required="true"
                                                matInput placeholder="Mobile Number" (keypress)="Service.IsNumeric($event)"
                                                [(ngModel)]="voucherSentData.mobile_no" required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-6">
                                            <span class="fileupload">
                                                <input type="file" name="payment_receipt"                                
                                                (change)="validateFileVoucher($event, 'payment_receipt')" required>
                                                <span class="icon-attach attach-data"></span>
                                            </span>
                                            <p class="error" *ngIf="paymentReceiptValidation == false || paymentReceiptValidation == undefined">Please Upload a valid file (ex: pdf)</p>
                                            <!-- <a class="image_file_link" *ngIf="paymentFile != false && paymentFile != true" target="_blank" [href]="paymentFile">Link</a> -->
                                            <a class="image_file_link" *ngIf="paymentFile != ''" target="_blank" [href]="paymentFile">Link</a>
                                        </div>

                                    </div>
                                </div>
                                <span id="openAppDialog" (click)="openView(appComp)"></span>
                                <ng-template #appComp let-modal>
                                    <div class="main_pop">
                                        <div class="pop_close">
                                            <span class="icon-close"></span>
                                        </div>
                                        <div class="pop_thanks">
                                            <h5>Thank you</h5>
                                            <p>Your Application has been submitted successfully and is under review. Please check the status and your dashboard for updates.</p>
                                            <button class="submit-bttn"  (click)="closeDialog()"
                                            routerLink="/dashboard/registration-status">Return to Status</button>
                                        </div>
                                    </div>
                                </ng-template>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <ng-container *ngIf="!paymentStepComp">
                                        <a href="javascript:void(0)" class="cancel-bttn"  type="button" 
                                        (click)="Service.headerStepMove('proforma_invoice',headerSteps,'menu','payment_update')">BACK</a> 
                                    </ng-container>
                                        <button class="cancel-bttn" (click)="onSubmitPaymentUpdate(ngForm8, true)" type="button">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health">CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="application_complete" [ngStyle]="{'display':'none'}">
                    <div class="row form-bdy m-0">
                        <div class="wrapper">
                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-12 p-0">
                                        <div class="form-subhdr form_subhdr">
                                            <h5>9. APPLICATION COMPLETE</h5>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </section>
</div>
