<app-loader *ngIf="!loader"></app-loader>
<div class="main-content">

    <section>
        <div class="form_main">
            <div class="container-fluid">
                <div class="form-hdr">
                    <div class="row">
                        <div class="col-md-12 p-0 mb-3">
                            <div class="dashbrd-hdr">
                                <h3>Halal Conformity Assessment Bodies</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="page_header"></div>
                <ng-container>
                    <div class="row user_main">
                        <div class="col-md-12">
                            <div class="user-steps">
                                <!-- (click)="Service.headerStepMove(item.title, headerSteps,'menu')" [ngStyle]="{'cursor':'pointer'}" -->
                                <ng-container *ngFor="let item of headerSteps; let k=index;">
                                    <div class="user-next" [ngClass]="(item.activeClass != '') ? item.activeClass : ''">
                                        <div class="usernext-icon">
                                            <span [ngClass]="(item.activeClass === 'user-done') ? 'icon-tick' : item.icon"></span>
                                        </div>
                                        <!--  -->
                                        <div class="user-details-pending" id="course_header" >
                                            <span [innerHTML]="item.desc"></span>
                                        </div>
                                    </div>
                                    <div class="next-step" *ngIf="k < headerSteps.length-1">
                                        <span class="icon-arrow-right"></span>
                                    </div>
                                </ng-container>                              
                            </div>
                        </div>
                    </div>
                </ng-container>
                
                <div class="cust-stepper" id="application_information">
                    <form #ngForm11="ngForm" (ngSubmit)="onSubmitStep1(ngForm11)" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr form_subhdr">
                                                <h5>1. APPLICANT INFORMATION</h5>
                                                <span>*If you want the certificate issued on a different address please update below</span>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>
                                    <div class="row pb-3">
                                        <div class="col-md-3 col-sm-6 ">                                            
                                            <div class="form-subheader">
                                                <span>Type of Accreditation Required:<span class="required_input">*</span></span>
                                            </div>
                                        </div>
                                        <div class="col-md-3 col-sm-6 p-0 pt-4">
                                            <div class="cab-data">
                                                <!-- @{{step1Data.accredation_criteria}} -->
                                                <mat-radio-group name="accreditation_required" 
                                                [(ngModel)]="step1Data.criteria_request" #selectAccrdCriteria="ngModel" required>
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="initial_data">
                                                            <mat-radio-button value="1"  [checked]="accreditationChecked">Initial</mat-radio-button>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="initial_data">
                                                            <mat-radio-button value="2">Extension</mat-radio-button>
                                                        </div>
                                                    </div>
                                                </div>
                                                </mat-radio-group>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <p class="error" *ngIf="isApplicationSubmitted == true && selectAccrdCriteria.errors?.required">Please select anyone option</p>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        <div class="col-md-6 col-sm-6 align-self-end mt-3"> 
                                            <mat-form-field class="cab-data">
                                                <mat-label>Halal Conformity Assessment Body (HCAB) Commercial & Official name</mat-label>
                                                <input readonly (keypress)="Service.inputFilter($event, Service.regExName)" matInput autocomplete="off" placeholder="Halal Conformity Assessment Body (HCAB) Commercial & Official name" name="official_commercial_name" [(ngModel)]="step1Data.official_commercial_name"  required>
                                                <mat-error></mat-error>      
                                            </mat-form-field>
                                        </div>

                                        <!-- <div class="col-md-12 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Certification Body's Name</mat-label>
                                                <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput autocomplete="off" placeholder="Certification Body's Name" name="certificationbody_name" [(ngModel)]="step1Data.certificationbody_name"  required>
                                                <mat-error></mat-error>      
                                            </mat-form-field>
                                        </div> -->
                                    </div>

                                    <div class="row">
                                        <div class="col-md-8">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Registered Physical Location Address</mat-label>
                                                <input matInput (keyup)="getPlaceName($event)" [matAutocomplete] = "auto"  
                                                placeholder="Registered Physical Location Address" name="physical_location_address" 
                                                [(ngModel)]="step1Data.physical_location_address" required>
                                                <mat-autocomplete #auto = "matAutocomplete" >
                                                    <mat-option *ngFor = "let searchCountryList of searchCountryLists" [value] = "searchCountryList.place_name">
                                                    {{searchCountryList.place_name}}
                                                    </mat-option>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </div> 

                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Mailing Address</mat-label>
                                                <input type="email"  matInput autocomplete="off"  placeholder="Mailing Address"   name="mailing_address" [(ngModel)]="step1Data.mailing_address"  required>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>PO Box No./ZIP Code</mat-label>
                                                <input  (keypress)="Service.IsNumeric($event)" 
                                                matInput autocomplete="off"  placeholder="PO BOX NO./Zip Code" name="po_box" 
                                                [(ngModel)]="step1Data.po_box" required>
                                                <mat-error></mat-error> 
                                            </mat-form-field>
                                            <p class="error" *ngIf="step1Data.po_box && !Service.checkInput('onlyNumberWithPlus',step1Data.po_box)">Please Enter Correct Zip Code</p> 
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Country</mat-label>
                                                <mat-select placeholder="Select" name="country" [(ngModel)]="step1Data.country" required>
                                                    <mat-option [value]="item.name" (click)="statelistById(item.id)" *ngFor="let item of getCountryLists; let i = index;">{{item.name}}</mat-option>
                                                </mat-select> 
                                            </mat-form-field>
                                        </div>
                                        
                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>State</mat-label>
                                                <mat-select placeholder="Select" name="state" [(ngModel)]="step1Data.state"  required>
                                                    <mat-option [value]="item.name" (click)="citylistById(item.id)" *ngFor="let item of allStateList; let i = index;">{{item.name}}</mat-option>
                                                </mat-select>    
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>City</mat-label>
                                                <mat-select placeholder="Select" name="city" [(ngModel)]="step1Data.city"  required>
                                                    <mat-option [value]="item.name" *ngFor="let item of allCityList; let i = index;">{{item.name}}</mat-option>
                                                </mat-select>      
                                            </mat-form-field>
                                        </div>
                                    </div>

                                    <div class="row" id="2ndStep">
                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Telephone Number</mat-label>
                                                <input type="text"  (keypress)="Service.IsNumeric($event)" 
                                                matInput autocomplete="off"  placeholder="Telephone No" name="telephone" 
                                                [(ngModel)]="step1Data.telephone" maxlength="15"   required>
                                                <mat-error></mat-error>                                            
                                            </mat-form-field>
                                            <p class="error" *ngIf="step1Data.telephone && !Service.checkInput('onlyNumberWithPlus',step1Data.telephone)">Please Enter Correct Telephone Number</p> 
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Fax Number</mat-label>
                                                <input matInput (keypress)="Service.IsNumeric($event)" autocomplete="off"  
                                                placeholder="Fax No"  name="fax_no" [(ngModel)]="step1Data.fax_no">
                                                <mat-error></mat-error> 
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Official E-mail Address</mat-label>
                                                <input  matInput autocomplete="off"  readonly="true" placeholder="Official Email Address"  name="official_email"  [(ngModel)]="step1Data.official_email"  required>
                                                <mat-error></mat-error> 
                                            </mat-form-field>
                                            <p class="error" *ngIf="step1Data.official_email && !Service.checkInput('email',step1Data.official_email)">Please Enter Correct Email Id</p>
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Official Website</mat-label>
                                                <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput autocomplete="off"  placeholder="Official Website"  name="official_website" [(ngModel)]="step1Data.official_website">
                                                <mat-error></mat-error>  
                                            </mat-form-field>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Date of Establishment</mat-label>
                                                <input readonly matInput [matDatepicker]="date_of_establishment" [max]="today" 
                                                  placeholder="Date Of Establishment" name="date_of_establishment" [(ngModel)]="step1Data.date_of_establishment">
                                                <!-- <mat-datepicker-toggle matSuffix [for]="date_of_establishment"></mat-datepicker-toggle> -->
                                                <mat-datepicker #date_of_establishment disabled="false"></mat-datepicker>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Legal-Professional/Commercial/Trade License</mat-label>
                                                <input matInput readonly="true"  name="tradelic" [(ngModel)]="selectTradeLicName"
                                                autocomplete="off"  placeholder="Legal-Professional/Commercial/Trade License"  >
                                                <a href="{{selectTradeLicPath}}" target="_blank">
                                                    <span class="icon-eye visible-pwd"></span>
                                                    </a>
                                            </mat-form-field>
                                        </div>                                                                              

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">  
                                                <mat-label>Trade License Date of Issue</mat-label>
                                                <!-- (dateChange)="setexDate(step1Data.date_of_issue)" (click)="Service._openCalendar(issue_data)"-->
                                                <input matInput [matDatepicker]="issue_data"  placeholder="Date of Issue" name="date_of_issue"
                                                  [(ngModel)]="step1Data.date_of_issue" >
                                                <!-- <mat-datepicker-toggle matSuffix [for]="issue_data"></mat-datepicker-toggle> -->
                                                <mat-datepicker #issue_data  disabled="false" ></mat-datepicker>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-3">
                                            <mat-form-field class="cab-data">
                                                <!-- (click)="Service._openCalendar(expiry_data)" -->
                                                <mat-label>Trade License Date of Expiry</mat-label>
                                                <input matInput [matDatepicker]="expiry_data" 
                                                 [min]="minDate" name="date_of_expiry" [(ngModel)]="step1Data.date_of_expiry" placeholder="Date of Expiry">
                                                <!-- <mat-datepicker-toggle matSuffix [for]="expiry_data"></mat-datepicker-toggle> -->
                                                <mat-datepicker #expiry_data disabled="false"></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Legal Status</mat-label>
                                                <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput autocomplete="off" placeholder="Legal Status" name="legal_status" [(ngModel)]="step1Data.legal_status">
                                                <mat-error></mat-error>  
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-4">
                                            <div class="matupload position-relative view_file">
                                                <mat-form-field  class="lng-data">
                                                    <input matInput readonly="true" name="id_issued_esma" [(ngModel)]="id_issued_esma" placeholder="Registration form and ID issued by ESMA">

                                                    <a *ngIf="issuedEsmaPath" href="{{issuedEsmaPath}}" target="_blank">
                                                        <span class="icon-eye visible-pwd"></span>
                                                    </a>
                                                </mat-form-field>
    
                                                <span class="fileupload">
                                                    <input type="file" name="id_issuedEsma" [(ngModel)]="esma_fileAny" (change)="validateFile($event,'id_issued_esma')">
                                                    <span class="icon-attach attach-data"></span>
                                                </span>
                                                <p class="error" *ngIf="!esma_file_validation">Please Upload a valid file (ex: pdf)</p>
                                            </div>
                                        </div>
                                        
                                        <div class="col-md-4">
                                            <div class="matupload position-relative view_file">
                                                <mat-form-field  class="lng-data">
                                                    <input matInput readonly="true" name="halal_certificate_stamp" [(ngModel)]="halal_certificate_stamp" placeholder="Halal Certificate Stamp or Symbol">

                                                    <a *ngIf="certificateStampPath" href="{{certificateStampPath}}" target="_blank">
                                                        <span class="icon-eye visible-pwd"></span>
                                                    </a>
                                                </mat-form-field>

                                                <span class="fileupload">
                                                    <input type="file" name="halal_certificateStamp" [(ngModel)]="halal_certificate_fileAny" (change)="validateFile($event,'halal_certificate_stamp')">
                                                    <span class="icon-attach attach-data"></span>
                                                </span>
                                                <p class="error" *ngIf="!file_validation_halal_certificate">Please Upload a valid file (ex: pdf)</p>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>OWNERSHIP OF THE ORGANIZATION</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" *ngFor="let item of ownOrgBasicInfo; let i = index;">
                                        <div class="col-12">
                                            <div class="ownr-details">
                                                <!-- <div class="row" *ngIf="i >= 1">
                                                    <div class="col-12">
                                                        <div class="remove-clss">
                                                            <span class="icon-close-round" (click)="removeRow(ownOrgBasicInfo, i)"></span>
                                                        </div>
                                                    </div>
                                                </div> -->
                                                <div class="row">
                                                    <div class="col-md-6 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Name</mat-label>
                                                            <input (keypress)="Service.inputFilter($event, Service.nameOnly)" matInput autocomplete="off"  placeholder="Name"  maxlength="20" name="ownership_name_{{i}}" [(ngModel)]="ownOrgBasicInfo[i].name" required>
                                                            <mat-error></mat-error>    
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-6 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Designation</mat-label>
                                                            <input (keypress)="Service.inputFilter($event, Service.nameOnly)" matInput autocomplete="off" required placeholder="Designation" name="ownership_designation_{{i}}" [(ngModel)]="ownOrgBasicInfo[i].designation" required>
                                                            <mat-error></mat-error> 
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Mobile Phone No.</mat-label>
                                                            <input type="text" (keypress)="Service.IsNumeric($event)" maxlength="15"  matInput autocomplete="off"  placeholder="Mobile No." name="ownership_phone_no_{{i}}" [(ngModel)]="ownOrgBasicInfo[i].phone_no"  required>
                                                            <mat-error></mat-error>
                                                        </mat-form-field>
                                                        <p class="error" *ngIf="ownOrgBasicInfo[i].phone_no && !Service.checkInput('onlyNumberWithPlus',ownOrgBasicInfo[i].phone_no)">Please Enter Correct Telephone Number</p> 
                                                    </div>
                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Land Line Phone No.</mat-label>
                                                            <input  matInput maxlength="15" autocomplete="off"  placeholder="Landline No."  name="ownership_mobile_no_{{i}}" [(ngModel)]="ownOrgBasicInfo[i].mobile_no" required >
                                                            <mat-error></mat-error>      
                                                        </mat-form-field>
                                                        <p class="error" *ngIf="ownOrgBasicInfo[i].mobile_no && !Service.checkInput('onlyNumberWithPlus',ownOrgBasicInfo[i].mobile_no)">Please Enter Correct Telephone Number</p> 
                                                    </div>
                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Email Address</mat-label>
                                                            <input  type="email" matInput autocomplete="off"  placeholder="Email Address" name="ownership_email_{{i}}" [(ngModel)]="ownOrgBasicInfo[i].email" required >
                                                            <mat-error></mat-error>
                                                        </mat-form-field>
                                                        <p class="error" *ngIf="ownOrgBasicInfo[i].email && !Service.checkInput('email',ownOrgBasicInfo[i].email)">Please Enter Correct Email Id</p>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="row tog-content">
                                        <div class="col-md-12 col-sm-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>MANAGING DIRECTOR/CHIEF EXECUTIVE </h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" *ngFor="let item of managingDirector; let i = index;">
                                        <div class="col-12">
                                            <div class="ownr-details">
                                                <div class="row" *ngIf="i >= 1">
                                                    <div class="col-12">
                                                        <div class="remove-clss">
                                                            <span class="icon-close-round" [ngStyle]="{'cursor': 'pointer'}" (click)="removeRow(managingDirector, i)"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-6 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Authorized Contact Person Name</mat-label>
                                                            <input matInput (keypress)="Service.inputFilter($event, Service.nameOnly)" placeholder="Name the members of Board of Directors (BOD)"  name="managing_name_{{i}}" [(ngModel)]="managingDirector[i].name"  required>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-6 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Designation</mat-label>
                                                            <input (keypress)="Service.inputFilter($event, Service.nameOnly)" matInput placeholder="Designation" name="managing_designation_{{i}}" [(ngModel)]="managingDirector[i].designation" required>
                                                        </mat-form-field>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Mobile Phone No.</mat-label>
                                                            <input matInput placeholder="Mobile Phone No." name="managing_mobile_no_{{i}}" [(ngModel)]="managingDirector[i].mobile_no" (keypress)="Service.IsNumeric($event)" required>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Land Line Phone No.</mat-label>

                                                            <input matInput (keypress)="Service.IsNumeric($event)" placeholder="Land Line Phone No." name="managing_telephone_no_{{i}}" [(ngModel)]="managingDirector[i].telephone_no" required>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Email Address</mat-label>
                                                            <input matInput placeholder="Email Address" name="managing_email_{{i}}" [(ngModel)]="managingDirector[i].email" (keypress)="Service.inputFilter($event, Service.regExName)" required>
                                                        </mat-form-field>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12"> 
                                            <div class="add-new">
                                                <a  href="javascript:void(0)" (click)="addRow(managingDirector)">
                                                    <span class="icon-add"></span>
                                                    <span>ADD NEW</span>
                                                </a>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row tog-content">
                                        <div class="col-md-12 col-sm-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>BOARD MEMBERS</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" *ngFor="let item of ownOrgMembInfo; let i = index;">
                                        <div class="col-12">
                                            <div class="ownr-details">
                                                <div class="row">
                                                    <div class="col-md-6 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Name the HCAB member of Board of Directors</mat-label>
                                                            <input matInput (keypress)="Service.inputFilter($event, Service.nameOnly)" placeholder="Name the members of Board of Directors (BOD)"  name="bod_directors_name_{{i}}" [(ngModel)]="ownOrgMembInfo[i].name"  required>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-6 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Designation</mat-label>
                                                            <input (keypress)="Service.inputFilter($event, Service.nameOnly)" matInput placeholder="Designation" name="bod_designation_{{i}}" [(ngModel)]="ownOrgMembInfo[i].designation" required>
                                                        </mat-form-field>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Relationship</mat-label>
                                                            <input matInput placeholder="Relationship" name="relationship_{{i}}" [(ngModel)]="ownOrgMembInfo[i].relationship" (keypress)="Service.inputFilter($event, Service.regExName)">
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Current Occupation</mat-label>
                                                            <input matInput placeholder="Current Occupation" name="current_occupation_{{i}}" [(ngModel)]="ownOrgMembInfo[i].current_occupation" (keypress)="Service.inputFilter($event, Service.regExName)" required>
                                                        </mat-form-field>
                                                    </div>

                                                    <div class="col-md-4 col-sm-12">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Employment</mat-label>
                                                            <input matInput placeholder="Employment" name="employment_{{i}}" [(ngModel)]="ownOrgMembInfo[i].employment" (keypress)="Service.inputFilter($event, Service.regExName)" required>
                                                        </mat-form-field>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-sub">
                                                <span>Is Halal Conformity Assessment is the main activity of the organization<span class="required_input">*</span></span>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-radio-group name="is_main_activity"  #selectInspecActivity="ngModel" [(ngModel)]="step1Data.is_main_activity" required>
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <label class="check-rdo">
                                                            <mat-radio-button value=true>Yes </mat-radio-button>
                                                        </label>
                                                    </div>  
                                                    <div class="col-md-4">
                                                        <label class="check-rdo">
                                                                <mat-radio-button value=false>No </mat-radio-button>
                                                        </label>
                                                    </div>  
                                            
                                                </div>
                                            </mat-radio-group>
                                            <div class="col-md-12 p-0" [ngStyle]="{'margin-top':'5px'}">
                                                <p class="error" *ngIf="isApplicationSubmitted == true && selectInspecActivity.errors?.required">Please select anyone option</p>
                                            </div>
                                        </div>
                                        <div class="col-md-6" *ngIf="step1Data.is_main_activity == 'false'">
                                            <mat-form-field class="cab-data">
                                                <mat-label>(If No, indicate what are other activities related to the organization)</mat-label>
                                                <input  (keypress)="Service.inputFilter($event, Service.regExName)" [ngModelOptions]="{standalone: true}"
                                                matInput placeholder="" name="indication" [(ngModel)]="step1Data.is_main_activity_note">
                                            </mat-form-field>
                                        </div>
                                    </div>

                                    <div class="row mt-3">
                                        <div class="col-md-3">
                                            <div class="form-sub">
                                                <span>Does HCAB or any of its staff have any ownership,business relationship with a consultancy works, Halal production or Halal products trade or business,etc<span class="required_input">*</span></span>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-radio-group name="is_staff_ownership" #hcabHold="ngModel" [(ngModel)]="step1Data.is_staff_ownership" required>
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <label class="check-rdo">
                                                            <mat-radio-button value=true>Yes </mat-radio-button>
                                                        </label>
                                                    </div>  
                                                    <div class="col-md-4">
                                                        <label class="check-rdo">
                                                            <mat-radio-button value=false>No </mat-radio-button>
                                                        </label>
                                                    </div>  
                                            
                                                </div>
                                            </mat-radio-group>
                                            <div class="col-md-12 p-0" [ngStyle]="{'margin-top':'5px'}">
                                                <p class="error" *ngIf="isApplicationSubmitted == true && hcabHold.errors?.required">Please select anyone option</p>
                                            </div>
                                        </div>
                                        <div class="col-md-6" *ngIf="step1Data.is_staff_ownership == 'false'">
                                            <mat-form-field class="cab-data">
                                                <mat-label>(If No, indicate what are other activities related to the organization)</mat-label>
                                                <input matInput placeholder=""   name="indication" [(ngModel)]="step1Data.is_staff_ownership_note">
                                            </mat-form-field>
                                        </div>
                                    </div>

                                    <!-- <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr form_subhdr">
                                                <h5>1. APPLICANT INFORMATION</h5>
                                                <span>*If you want the certificate issued on a different address please update below</span>
                                            </div>
                                            <hr>
                                        </div>
                                    </div> -->

                                    <div class="row mt-4">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subheader-data form_subhdr">
                                                <h5>IF HCAB HAVE ANY OTHER LOCATION(S) OTHER THAN THE MAIN/HEAD OFFICE OR BRANCHES WHERE KEY ACTIVITIES TAKE PLACE</h5>
                                                <div class="form-subheader-data">
                                                        <mat-radio-group name="hcab_other_loc" #hcabOtherLoc="ngModel" [(ngModel)]="step1Data.hcab_other_loc" 
                                                    #selectAccredHold="ngModel" required>

                                                        <div class="row form_right_data">
                                                            <div class="col-md-4">
                                                                <label class="check-rdo">
                                                                    <mat-radio-button value="1" [ngStyle]="{'padding-right': '5px'}">Yes </mat-radio-button>
                                                                </label>
                                                            </div>  
                                                            <div class="col-md-4">
                                                                <label class="check-rdo">
                                                                    <mat-radio-button value="0"  [ngStyle]="{'padding-left': '15px'}">No </mat-radio-button>
                                                                </label>
                                                            </div>                                            
                                                        </div>
                                                    </mat-radio-group>
                                                    <div class="col-md-12" [ngStyle]="{'margin-top':'5px'}">
                                                        <p class="error" *ngIf="isApplicationSubmitted == true && hcabOtherLoc.errors?.required">Please select anyone option</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="col-md-2 form-subheader-data">
                                            <mat-radio-group name="hcab_other_loc" #hcabOtherLoc="ngModel" [(ngModel)]="step1Data.hcab_other_loc" 
                                            #selectAccredHold="ngModel" required>
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <label class="check-rdo">
                                                            <mat-radio-button value="1">Yes </mat-radio-button>
                                                        </label>
                                                    </div>  
                                                    <div class="col-md-4">
                                                        <label class="check-rdo">
                                                            <mat-radio-button value="0">No </mat-radio-button>
                                                        </label>
                                                    </div>  
                                            
                                                </div>
                                            </mat-radio-group>
                                            <div class="col-md-12" [ngStyle]="{'margin-top':'5px'}">
                                                <p class="error" *ngIf="isApplicationSubmitted == true && hcabOtherLoc.errors?.required">Please select anyone option</p>
                                            </div>
                                        </div> -->
                                    </div>

                                    <div class="row" id="hcab_other_location" *ngIf="step1Data.hcab_other_loc == '1'">
                                        <!-- {{getCountryStateCityAll | json}} -->
                                        <!-- {{allCityTypeList | json}} -->
                                        <!-- {{hcabOtherLocation | json}} -->
                                        <div class="col-md-12">
                                            <div class="table-content-health table_padd">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th width="30%">Location Type(such of Regional Off)</th>
                                                            <th width="20%">Address</th>
                                                            <th width="20%">Country</th>
                                                            <th width="20%">City</th>
                                                            <th width="50%">*Key Activities carried out at this Location</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let item of hcabOtherLocation; let i = index;">
                                                            <td>
                                                                <!-- {{i}} -->
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="" name="location_type_{{i}}" [(ngModel)]="hcabOtherLocation[i].location_type" required>
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Address</mat-label>
                                                                    <input matInput placeholder="" name="address_{{i}}" [(ngModel)]="hcabOtherLocation[i].address_type" required>
                                                                </mat-form-field>
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Country</mat-label>
                                                                    <mat-select placeholder="Select" name="country" [(ngModel)]="hcabOtherLocation[i].country" [ngModelOptions]="{standalone: true}" required>
                                                                        <mat-option [value]="item.CountryName" (click)="cityByCountryAll(item.CountryName, i)" 
                                                                        *ngFor="let item of getCountryStateCityAll">{{item.CountryName}}</mat-option>
                                                                    </mat-select>
                                                                </mat-form-field>                                                               
                                                            </td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <!-- {{allCityTypeLoder[i] | json}} || {{allCityTypeLoder[i].loader}} -->
                                                                    <mat-label>City</mat-label>
                                                                    <mat-select placeholder="Select" name="city" [(ngModel)]="hcabOtherLocation[i].city"  
                                                                    [ngModelOptions]="{standalone: true}"  required>
                                                                        <mat-option [value]="item.name" *ngFor="let item of allCityTypeList[i]">{{item.name}}</mat-option>
                                                                    </mat-select>      
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input matInput placeholder="" name="activity_carried_out_{{i}}" [(ngModel)]="hcabOtherLocation[i].activity_carried_out" required>
                                                                </mat-form-field>
                                                            </td>
                                                            
                                                            <td class="content-icn">
                                                                <span *ngIf="i >= 0" class="icon-add" (click)="addRow(hcabOtherLocation)"></span>&nbsp;
                                                                <span *ngIf="i >= 1" class="icon-cross" (click)="removeRow(hcabOtherLocation,i)"></span>
                                                            </td>
                                                        </tr>
            
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row mt-3" *ngIf="step1Data.hcab_other_loc == '1'">
                                        <div class="col-md-12 col-sm-3">

                                            <p class="desc_table">
                                                (*)as example of the key activities include: policy formulation, process and/or procedure development, proceedings of safeguarding impartiality committee/scheme committee, approval of auditors/examiners/inspectors, application & contract review, selection of auditors/examiners/inspectors, handling of contractual agreements with auditors/examiners/inspectors, monitoring of auditors/examiners/inspectors, planning of audits/examinations/inspections, review, approval and decision on the results of audits/examinations/inspections and preparation, release and control of certificates, Final decision on appeals and complaints.
                                              </p>
                                        </div>                                       
                                    </div>


                                    <div class="row my-4">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subheader-data form_subhdr">
                                                <h5>DOES HCAB CURRENTLY HOLD ANY OTHER CURRENT OR PREVIOUS ACCREDITATION (S) ?</h5>
                                                    <div class="form-subheader-data">
                                                        <mat-radio-group name="is_hold_other_accr" #hcabCurrentlyHold="ngModel" [(ngModel)]="step1Data.is_hold_other_accr" 
                                                        #selectAccredHold="ngModel" required>

                                                            <div class="row form_right_data">
                                                                <div class="col-md-4">
                                                                    <label class="check-rdo">
                                                                        <mat-radio-button value="1"  [ngStyle]="{'padding-right': '5px'}">Yes </mat-radio-button>
                                                                    </label>
                                                                </div>  
                                                                <div class="col-md-4">
                                                                    <label class="check-rdo">
                                                                        <mat-radio-button value="0"  [ngStyle]="{'padding-left': '15px'}">No </mat-radio-button>
                                                                    </label>
                                                                </div>  
                                                        
                                                            </div>
                                                        </mat-radio-group>

                                                    <div class="row">
                                                        <div class="col-md-12" [ngStyle]="{'margin-top':'5px'}">
                                                            <p class="error" *ngIf="isApplicationSubmitted == true && hcabCurrentlyHold.errors?.required">Please select anyone option</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="col-md-2">
                                            <mat-radio-group name="is_hold_other_accr" #hcabCurrentlyHold="ngModel" [(ngModel)]="step1Data.is_hold_other_accr" 
                                            #selectAccredHold="ngModel" required>
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <label class="check-rdo">
                                                            <mat-radio-button value="1">Yes </mat-radio-button>
                                                        </label>
                                                    </div>  
                                                    <div class="col-md-4">
                                                        <label class="check-rdo">
                                                            <mat-radio-button value="0">No </mat-radio-button>
                                                        </label>
                                                    </div>  
                                            
                                                </div>
                                            </mat-radio-group>
                                            <div class="col-md-12" [ngStyle]="{'margin-top':'5px'}">
                                                <p class="error" *ngIf="isApplicationSubmitted == true && hcabCurrentlyHold.errors?.required">Please select anyone option</p>
                                            </div>
                                        </div> -->

                                    </div>

                                    <div class="row" id="is_hold_other_accreditations" *ngIf="step1Data.is_hold_other_accr == '1'">
                                        <div class="col-md-12">
                                            <div class="table-content-health table_padd">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th>Standard Name</th>
                                                            <th>Accreditation Body</th>
                                                            <th>Entity Location</th>
                                                            <th>Scope of Accreditation</th>
                                                            <th>Initial Accreditation Date</th>
                                                            <th>Expiry Date of Latest Accreditation</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr  *ngFor="let item of accreditationInfo; let i = index;">
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="" name="name_{{i}}" [(ngModel)]="accreditationInfo[i].name" required>
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="" name="accr_body_{{i}}" [(ngModel)]="accreditationInfo[i].accr_body" required>
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="" name="entity_location_{{i}}" [(ngModel)]="accreditationInfo[i].entity_location" required>
                                                                </mat-form-field>
                                                            </td>
                                                            
                                                            <td>
                                                                <div class="matupload position-relative view_file mat_small">
                                                                    <mat-form-field  class="lng-data">
                                                                        <input matInput readonly="true" name="scope_accreditation_file_name_{{i}}" [(ngModel)]="accreditationInfo[i].list_auditor_upload"  placeholder="Upload Document">
            
                                                                        <a *ngIf="accreditationInfo[i].scope_of_accr != null" href="{{filePathVreateDynamics(accreditationInfo[i].scope_of_accr)}}" target="_blank">
                                                                            <span class="icon-eye visible-pwd"></span>
                                                                        </a>
                                                                    </mat-form-field>
                                                                
                                                                    <span class="fileupload" *ngIf="accreditationInfo[i].id && accreditationInfo[i].id != ''">
                                                                        <input type="file" name="scope_accreditation_{{i}}" [(ngModel)]="accreditationInfo[i].fileAny" (change)="listAuditorFile($event,i,accreditationInfo[i].id)">
                                                                        <span class="icon-attach attach-data"></span>
                                                                    </span>
            
                                                                    <span class="fileupload" *ngIf="!accreditationInfo[i].id">
                                                                        <input type="file" name="scope_accreditation_file_{{i}}" [(ngModel)]="accreditationInfo[i].fileAny" (change)="listAuditorFile($event,i)">
                                                                        <span class="icon-attach attach-data"></span>
                                                                    </span>
                                                                </div>
                                                                <!-- <div class="matupload position-relative view_file">
                                                                    <mat-form-field  class="lng-data">
                                                                        <input matInput readonly="true" name="scope_accreditation_file_name_{{i}}" [(ngModel)]="accreditationInfo[i].list_auditor_upload"  placeholder="Upload Document">
            
                                                                        <a *ngIf="accreditationInfo[i].qualification_file != null" href="{{filePathVreateDynamics(accreditationInfo[i].qualification_file)}}" target="_blank">
                                                                            <span class="icon-eye visible-pwd"></span>
                                                                        </a>
                                                                    </mat-form-field>
                                                                
                                                                    <span class="fileupload">
                                                                        <input type="file" name="scope_accreditation_{{i}}" [(ngModel)]="accreditationInfo[i].scope_of_accr" (change)="listAuditorFile($event,i)">
                                                                        <span class="icon-attach attach-data"></span>
                                                                    </span>
                                                                </div> -->
                                                                <p class="error" *ngIf="!file_validation_listAuditor">Please Upload a valid file (ex: pdf)</p>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <input readonly="true" (click)="Service._openCalendar(initial_accr_date)" matInput 
                                                                    [matDatepicker]="initial_accr_date" readonly="true" 
                                                                    placeholder="Select Date" name="initial_accr_date_{{i}}" (dateChange)="setexDateMin(accreditationInfo[i].initial_accr_date,i)" [ngModelOptions]="{'standalone':true}"
                                                                    [(ngModel)]="accreditationInfo[i].initial_accr_date" required>
                                                                    <mat-datepicker-toggle matSuffix [for]="initial_accr_date"></mat-datepicker-toggle>
                                                                    <mat-datepicker #initial_accr_date  disabled="false"></mat-datepicker>
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <input readonly="true" (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                                    matInput [matDatepicker]="expiry_date" 
                                                                    [ngModelOptions]="{'standalone': true}"
                                                                    readonly="true" [min]="minDates[i]" placeholder="Select Date" name="expiry_date_{{i}}" (click)="Service._openCalendar(expiry_date)" [(ngModel)]="accreditationInfo[i].expiry_date" required>
                                                                    <mat-datepicker-toggle matSuffix [for]="expiry_date"></mat-datepicker-toggle>
                                                                    <mat-datepicker #expiry_date  disabled="false"></mat-datepicker>
                                                                </mat-form-field>
                                                            </td>

                                                            <td class="content-icn">
                                                                <span *ngIf="i >= 0" class="icon-add" (click)="addRow(accreditationInfo)"></span>&nbsp;
                                                                <span *ngIf="i >= 1" class="icon-cross" (click)="removeRow(accreditationInfo,i)"></span>
                                                            </td>
                                                        </tr>
            
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>


                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <a href="javascript:void(0)" class="cancel-bttn"  type="button" routerLink="/dashboard/cab_client/application-accreditation">CANCEL</a> 
                                        <button class="cancel-bttn" (click)="savedraftStep('step1')" type="button">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health">CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="personal_information" [ngStyle]="{'display':'none'}">
                    <form #ngForm2="ngForm" (ngSubmit)="onSubmitStep2(ngForm2)" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-12">
                                
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr">
                                                <h5>2. PERSONNEL INFORMATION</h5>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>
                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data subhead-dt">
                                                <h5>TECHNICAL MANAGER</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Name</mat-label>
                                                <input matInput  (keypress)="Service.inputFilter($event, Service.nameOnly)" [(ngModel)]="step2Data.name" placeholder="" name="name_technical" required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-6 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Designation</mat-label>
                                                <input matInput  (keypress)="Service.inputFilter($event, Service.nameOnly)" placeholder="" [(ngModel)]="step2Data.designation" name="designation_technical" required>
                                            </mat-form-field>
                                        </div>
                                        
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Mobile Phone No.</mat-label>
                                                <input matInput placeholder="" maxlength="14"  (keypress)="Service.IsNumeric($event)" [(ngModel)]="step2Data.mobile_no" name="mobile_no_technical" required>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-4 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Email Address</mat-label>
                                                <input matInput placeholder="" [(ngModel)]="step2Data.email" name="email_technical" required>
                                            </mat-form-field>
                                            <p class="error" *ngIf="step2Data.email && !Service.checkInput('email',step2Data.email)">Please Enter Correct Email Id</p> 
                                        </div>
                                        <div class="col-md-4 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Relevant Experience</mat-label>
                                                <input matInput  (keypress)="Service.inputFilter($event, Service.regExName)" placeholder="" [(ngModel)]="step2Data.relevent_experience" name="relevent_experience" required>
                                            </mat-form-field>
                                        </div>
                                    </div>

                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data subhead-dt">
                                                <h5>ISLAMIC AFFAIRS EXPERT</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Name</mat-label>
                                                <input matInput (keypress)="Service.inputFilter($event, Service.nameOnly)" [(ngModel)]="step2Data.islamic_name" placeholder="" name="name_islamic" required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-6 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Designation</mat-label>
                                                <input matInput (keypress)="Service.inputFilter($event, Service.nameOnly)" placeholder="" [(ngModel)]="step2Data.islamic_designation" name="designation_islamic" required>
                                            </mat-form-field>
                                        </div>
                                        
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Mobile Phone No.</mat-label>
                                                <input matInput placeholder="" maxlength="14"  (keypress)="Service.IsNumeric($event)" [(ngModel)]="step2Data.islamic_mobile_no" name="mobile_no_islamic" required>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-4 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Email Address</mat-label>
                                                <input matInput placeholder="" [(ngModel)]="step2Data.islamic_email" name="email_islamic" required>
                                            </mat-form-field>
                                            <p class="error" *ngIf="step2Data.islamic_email && !Service.checkInput('email',step2Data.islamic_email)">Please Enter Correct Email Id</p> 
                                        </div>
                                        <div class="col-md-4 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Relevant Experience</mat-label>
                                                <input matInput (keypress)="Service.inputFilter($event, Service.regExName)" placeholder="" [(ngModel)]="step2Data.islamic_relevent_experience" name="relevent_experience_islamic" required>
                                            </mat-form-field>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>QUALITY MANAGER</h5>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Name</mat-label>
                                                <input matInput  (keypress)="Service.inputFilter($event, Service.nameOnly)"  placeholder="" [(ngModel)]="step2Data.management_name" name="quality_manager_name" required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-6 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Designation</mat-label>
                                                <input matInput  (keypress)="Service.inputFilter($event, Service.nameOnly)" placeholder="" [(ngModel)]="step2Data.management_designation" name="quality_manager_designation" required>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Mobile Phone No.</mat-label>
                                                <input matInput placeholder="" maxlength="14"  (keypress)="Service.IsNumeric($event)" [(ngModel)]="step2Data.management_mobile_no" name="quality_manager_mobile_no" required>
                                            </mat-form-field>
                                        </div>

                                        <div class="col-md-4 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Email Address</mat-label>
                                                <input matInput placeholder="" [(ngModel)]="step2Data.management_email" name="quality_manager_email" required>
                                            </mat-form-field>
                                            <p class="error" *ngIf="step2Data.management_email && !Service.checkInput('email',step2Data.management_email)">Please Enter Correct Email Id</p>
                                        </div>
                                        <div class="col-md-4 col-sm-12">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Relevant Experience</mat-label>
                                                <input matInput  (keypress)="Service.inputFilter($event, Service.regExName)" placeholder="" [(ngModel)]="step2Data.management_relevent_experience" name="quality_manager_relevent_experience" required>
                                            </mat-form-field>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subheader-data">
                                                <h5>SUMMARY OF THE NUMBER OF PERSONNEL</h5>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>
                                
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12">
                                            <div class="table-content-health">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th width="20%">Position</th>
                                                            <th width="10%">Total No</th>
                                                            <th width="35%">Full Time Direct Employees Name</th>
                                                            <th width="35%">Contracted Full or Part Time Employees Name</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <!-- @{{summaryDetails | json}} -->
                                                        <tr *ngFor="let item of summaryDetails; let i = index;">
                                                            <td>{{item['position']}}</td>
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input (keypress)="Service.IsNumeric($event)" matInput name="total_no_{{i}}" 
                                                                    [(ngModel)]="summaryDetails[i].total_no" placeholder="">
                                                                </mat-form-field>  
                                                            </td>

                                                            <td>
                                                                <!-- @{{item.recordFulltime.length}} -->
                                                                <mat-form-field class="cab-data">
                                                                    <!-- @{{item.fulltime_emp_name | json}} -->
                                                                    <mat-chip-list #chipList1 aria-label="Fruit selection">
                                                                        <mat-chip
                                                                            *ngFor="let user of item.fulltime_emp_name; let k = index;"
                                                                            [selectable]="selectable"
                                                                            [removable]="removable"
                                                                            (removed)="removeEntry(summaryDetails,k, i, 'full')">
                                                                           {{user}}
                                                                            <!-- <mat-icon matChipRemove *ngIf="removable">x</mat-icon> -->
                                                                            <span matChipRemove *ngIf="removable" class="chip-cross">x</span>
                                                                        </mat-chip>  
                                                                        <!--  class="close-icon" -->
                                                                        <input 
                                                                        (keypress)="Service.inputFilter($event, Service.nameOnly)" 
                                                                        matInput required
                                                                        placeholder="Type Here" [matAutocomplete]="auto"
                                                                        [matChipInputFor]="chipList1" 
                                                                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                                        (matChipInputTokenEnd)="addEntry($event,summaryDetails,i, 'full')">
                                                                    </mat-chip-list>
                                                                </mat-form-field>  
                                                            </td>

                                                            <td>
                                                                <!-- @{{item.recordParttime.length}} -->
                                                                <mat-form-field class="cab-data">
                                                                    <mat-chip-list #chipList2 aria-label="Fruit selection">
                                                                        <mat-chip
                                                                            *ngFor="let user of item.parttime_emp_name; let p = index;"
                                                                            [selectable]="selectable"
                                                                            [removable]="removable"
                                                                            (removed)="removeEntry(summaryDetails,p, i, 'part')">
                                                                            {{user}}
                                                                            <!-- <mat-icon matChipRemove *ngIf="removable">X</mat-icon> -->
                                                                            <span matChipRemove *ngIf="removable" class="chip-cross">x</span>
                                                                        </mat-chip>
                                                                        
                                                                        <input  (keypress)="Service.inputFilter($event, Service.nameOnly)" 
                                                                        matInput name="parttime_emp_name_{{i}}"  required
                                                                        placeholder="Type Here" [matAutocomplete]="auto"
                                                                        [matChipInputFor]="chipList2" ngModelOptions="{'standalone':true}"
                                                                        [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                                                        (matChipInputTokenEnd)="addEntry($event,summaryDetails,i, 'part')">
                                                                    </mat-chip-list>
                                                                </mat-form-field>
                                                                <!-- {{loadCount(item, i)}} -->
                                                            </td>
                                                        </tr>
                                                        
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <!-- (click)="onSubmitTestingParticipation()" -->
                                    <div class="button-content">
                                        <a href="javascript:void(0)" class="cancel-bttn"  type="button" (click)="Service.headerStepMove('application_information',headerSteps,'menu','personal_information')">BACK</a> 
                                        <button class="cancel-bttn" (click)="savedraftStep('step2')" type="button">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health" >CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="scope_accreditation" [ngStyle]="{'display':'none'}">
                    <!-- <form #ngForm3="ngForm" (ngSubmit)="onSubmitStep3(ngForm3)" autocomplete="off"> -->
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12"> 
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr">
                                                <h5>3. Accreditation Scope</h5>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>
                                    <div class="row  mt-3">
                                        <div class="col-md-12">                                            
                                            <div class="form-subheader">
                                                <span>Please indicate the standard against which you are applying for EIAC Halal Accreditation :<span class="required_input">*</span></span>
                                            </div>
                                        </div>
                                        </div>
                                        <div class="row  mt-3">
                                        <div class="col-md-12 col-sm-12">

                                            <ul class="scope_list">
                                                <ng-container *ngFor="let item of scopeCheckboxes; let k=index;">
                                                    <li>
                                                        <mat-checkbox  name="scope_options" (change)="checkItemClick($event)" 
                                            [(ngModel)]="item.checked" [ngModelOptions]="{standalone: true}" required>{{item.label}}</mat-checkbox> 
                                                    </li>
                                                </ng-container>
                                                <li>
                                                    <!-- other check -->
                                            <mat-checkbox  name="scope_options_others_check" (change)="checkOthersItemClick($event)" [(ngModel)]="checkItemOthers">Others</mat-checkbox>
                                                </li>
                                                <li>
                                                    <ng-container *ngIf="checkItemOthers">
                                                        <mat-form-field class="cab-data other_data">
                                                            <mat-label>Type Other</mat-label>
                                                            <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                            matInput name="scope_options_others" 
                                                            [(ngModel)]="scope_options_others" placeholder="Others" required>
                                                        </mat-form-field> 
                                                    </ng-container>
                                                </li>
                                            </ul>
                                        </div>
                                        </div>
                                    <!-- SCOPE SECTION START -->
                                    <div class="row">
                                        <!-- @{{editScopeData | json}} Chaitali!1991-->
                                        


                                        <div class="col-md-12">
                                            
                                            <ng-container *ngFor="let item of subTypeRows; let i = index;">
                                                <div class="row mt-3">
                                                    <div class="col-md-9 col-sm-9">
                                                        <mat-form-field class="cab-data">
                                                            <mat-label>Select Type</mat-label>
                                                            <mat-select (selectionChange)="getTypeScheme(subTypeRows[i].id, i)" placeholder="Select" name="subtype_id_{{i}}"  
                                                            [(ngModel)]="subTypeRows[i].id"  [required] = "editScopeData == undefined || editScopeData == null">
                                                                <mat-option [value]="item.service_page.id" *ngFor="let item of subTypeMaster; let k=index;">{{item.title}}</mat-option>
                                                            </mat-select>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-md-3 col-sm-3">
                                                        <div class="add-content">
                                                            <span *ngIf="i >= 0" class="icon-add" (click)="addSubTypeRow(subTypeRows,i)"></span>&nbsp;
                                                            <span *ngIf="i >= 1" class="icon-cross" (click)="removeSubTypeRow(subTypeRows,i)"></span>
                                                        </div>
                                                    </div>
                                                </div> 
                                            </ng-container>

                                            
                                            <div class="row">
                                                <div class="col-md-12 col-sm-12">
                                                    <form #ngForm1="ngForm" autocomplete="off">
                                                    <div class="row" *ngIf="fullTypeScope.length > 0">
                                                        <div class="col-12" *ngFor="let typeScope of fullTypeScope; let t1 = index;">
                                                            <div class="row">
                                                                <div class="col-md-12 p-0">
                                                                    <div class="form-subhdr">
                                                                        <h5>Sub Type for {{typeScope.name}}</h5>
                                                                    </div> 
                                                                </div>
                                                            </div>
                                                    <ng-container *ngFor="let item of typeScope.schemeRows; let i = index;">
                                                        <div class="row mt-3">
                                                            <div class="col-md-9 col-sm-9">
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Select Scheme</mat-label>
                                                                    <mat-select (selectionChange)="getCriteria(typeScope.schemeRows[i].id, i, typeScope.title)" placeholder="Select" name="scheme_id_{{i}}"  
                                                                    [(ngModel)]="typeScope.schemeRows[i].id" [ngModelOptions]="{standalone: true}"  [required] = "editScopeData == undefined || editScopeData == null">
                                                                        <mat-option [value]="item.scope_accridiation.id" *ngFor="let item of typeScope.schemeData; let k=index;">{{item.title}}</mat-option>
                                                                    </mat-select>
                                                                    <mat-error></mat-error> 
                                                                </mat-form-field>
                                                            </div>
                                                            <div class="col-md-3 col-sm-3">
                                                                <div class="add-content">
                                                                    <span *ngIf="i >= 0" class="icon-add" (click)="addSchemeRow(typeScope.schemeRows,i)"></span>&nbsp;
                                                                    <span *ngIf="i >= 1" class="icon-cross" (click)="removeSchemeRow(typeScope.schemeRows,i)"></span>
                                                                </div>
                                                            </div>
                                                        </div> 
                                                    </ng-container>                                    
                                                <div class="row">
                                                    <!-- *ngIf="fullScope.length > 0" -->
                                                    <!-- *ngFor="let scope of fullScope; let i1 = index;" -->
                                                    <div class="col-md-12 col-sm-12">
                                                        <div class="row" *ngIf="typeScope.scopeRows.length > 0">
                                                            <div class="col-12" *ngFor="let scope of typeScope.scopeRows; let i1 = index;">
                                                                <div class="row">
                                                                    <div class="col-md-12 p-0">
                                                                        <div class="form-subhdr">
                                                                            <h5>Accreditation Scope for {{scope.name}}</h5>
                                                                        </div> 
                                                                    </div>
                                                                </div>
                                                                <!-- Make Table [typeScope.title] -->
                                                                <div class="row">
                                                                    <div class="col-md-12">
                                                                        <div class="table-content-health">
                                                                            <table>
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th># </th>
                                                                                        <th *ngFor="let fields of dynamicScopeFieldColumns[typeScope.id][scope.id]; let i2 = index;">{{fields[0].name}}
                                                                                        </th>
                                                                                        <th>
                                                                                        </th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    <tr *ngFor="let item of dynamicScopeModel[typeScope.id][scope.id]['fieldLines']; let k = index;">
                                                                                        <td>{{("0" + (k+1)).slice(-2)}}</td>
                                                                                        <td *ngFor="let fieldsColumn of dynamicScopeFieldColumns[typeScope.id][scope.id]; let p = index;">

                                                                                            <ng-container *ngIf="dynamicScopeFieldType[typeScope.id][scope.id][p].inputType == 'text'">
                                                                                                <mat-form-field class="cab-data" *ngIf="p == 0">
                                                                                                    <mat-label></mat-label>
                                                                                                    <input matInput  
                                                                                                    placeholder="" name="dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title" 
                                                                                                    [(ngModel)]="dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title]" required>
                                                                                                </mat-form-field>
                                                                                            </ng-container>

                                                                                            <ng-container *ngIf="dynamicScopeFieldType[typeScope.id][scope.id][p].inputType == 'select'">
                                                                                            <mat-form-field class="cab-data" *ngIf="p == 0">
                                                                                                
                                                                                                <mat-label>Select</mat-label>    
                                                                                                <mat-select 
                                                                                                
                                                                                                [matTooltip]="getFieldTooltip(dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][i1][p].title], dynamicScopeModel[typeScope.id][scope.id].fieldLines[k].firstFieldValues)" matTooltipPosition='above'
                                                                                                [(ngModel)]="dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title]" 
                                                                                                name="dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title" [ngModelOptions]="{standalone: true}" 
                                                                                                (selectionChange)="onChangeScopeOption($event,scope.id,typeScope.id,k,p)" required="true">
                                                                                                    <mat-option *ngFor="let j1 of dynamicScopeModel[typeScope.id][scope.id].fieldLines[k].firstFieldValues" [value]='j1.field_value.id' [matTooltip]="j1.value">
                                                                                                    {{j1.value}}
                                                                                                    </mat-option>
                                                                                                </mat-select>
                                                                                                
                                                                                            </mat-form-field>
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="dynamicScopeFieldType[typeScope.id][scope.id][p].inputType == 'multi_select'">
                                                                                                <mat-form-field class="cab-data" *ngIf="p == 0">
                                                                                                    <mat-label>Select</mat-label>    
                                                                                                    <mat-select              
                                                                                                    [matTooltip]="getFieldTooltip(dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][i1][p].title], dynamicScopeModel[typeScope.id][scope.id].fieldLines[k].firstFieldValues)" matTooltipPosition='above'
                                                                                                    [(ngModel)]="dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title]" 
                                                                                                    name="dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title" [ngModelOptions]="{standalone: true}" multiple
                                                                                                    (selectionChange)="onChangeScopeOption($event,scope.id,typeScope.id,k,p)" required="true">
                                                                                                        <mat-option *ngFor="let j1 of dynamicScopeModel[typeScope.id][scope.id].fieldLines[k].firstFieldValues" [value]='j1.field_value.id' [matTooltip]="j1.value">
                                                                                                        {{j1.value}}
                                                                                                        </mat-option>
                                                                                                    </mat-select>
                                                                                                    
                                                                                                </mat-form-field>
                                                                                                </ng-container>

                                                                                            <ng-container *ngIf="dynamicScopeFieldType[typeScope.id][scope.id][p].inputType == 'text'">
                                                                                                <mat-form-field class="cab-data" *ngIf="p > 0 && p <= dynamicScopeFieldColumns[typeScope.id][scope.id].length">
                                                                                                    <mat-label></mat-label>
                                                                                                    <input matInput  
                                                                                                    [ngModelOptions]="{standalone: true}"
                                                                                                    placeholder="" name="dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title" 
                                                                                                    [(ngModel)]="dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title]" required="true">
                                                                                                </mat-form-field>
                                                                                            </ng-container>

                                                                                            <ng-container *ngIf="dynamicScopeFieldType[typeScope.id][scope.id][p].inputType == 'select'">
                                                                                            <mat-form-field class="cab-data" *ngIf="p > 0 && p <= dynamicScopeFieldColumns[typeScope.id][scope.id].length">
                                                                                                
                                                                                                <mat-label>Select</mat-label>
                                                                                                <mat-select  
                                                                                                required="true"
                                                                                                [matTooltip]="getFieldTooltip(dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title], dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].values])" 
                                                                                                matTooltipPosition='above' 
                                                                                                [(ngModel)]="dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title]"
                                                                                                name="dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title" 
                                                                                                (selectionChange)="onChangeScopeOption($event,scope.id,typeScope.id,k,p)" [ngModelOptions]="{standalone: true}" required="true">
                                                                                                    <mat-option *ngFor="let j2 of dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].values]" [value]='j2.field_value.id' [matTooltip]="j2.value">
                                                                                                    {{j2.value}}
                                                                                                    </mat-option>
                                                                                                </mat-select>
                                                                                            </mat-form-field>  
                                                                                            </ng-container>
                                                                                            <ng-container *ngIf="dynamicScopeFieldType[typeScope.id][scope.id][p].inputType == 'multi_select'">
                                                                                                <mat-form-field class="cab-data" *ngIf="p > 0 && p <= dynamicScopeFieldColumns[typeScope.id][scope.id].length">
                                                                                                    
                                                                                                    <mat-label>Select</mat-label>
                                                                                                    <mat-select
                                                                                                    required="true"  
                                                                                                    multiple
                                                                                                    [matTooltip]="getFieldTooltip(dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title], dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].values])" 
                                                                                                    matTooltipPosition='above' [(ngModel)]="dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title]"
                                                                                                    name="dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].title" 
                                                                                                    (selectionChange)="onChangeScopeOption($event,scope.id,typeScope.id,k,p)" [ngModelOptions]="{standalone: true}" >
                                                                                                        <mat-option *ngFor="let j2 of dynamicScopeModel[typeScope.id][scope.id].fieldLines[k][dynamicScopeFieldColumns[typeScope.id][scope.id][p][0].values]" [value]='j2.field_value.id' [matTooltip]="j2.value">
                                                                                                        {{j2.value}}
                                                                                                        </mat-option>
                                                                                                    </mat-select>
                                                                                                </mat-form-field>  
                                                                                                </ng-container>
                                                                                        </td>
                                                                                        <td class="content-icn">
                                                                                            <span *ngIf="k >= 0" class="icon-add" (click)="addScopeLine(k,scope.id,typeScope.id, dynamicScopeModel[typeScope.id][scope.id].fieldLines)"></span>&nbsp;
                                                                                            <span *ngIf="k >= 1" class="icon-close-round" (click)="openDeleteScopeConfirm(k, scope.id, typeScope.id)"></span>
                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <button class="submit-bttn submit-health" 
                                                                    (click)="onSubmitStep3(ngForm1,null,i1, typeScope.id)" 
                                                                    [ngStyle]="{'float': 'right'}">
                                                                        <span class="icon-add"></span>&nbsp;&nbsp;ADD</button>
                                                                    </div>
                                                                    
                                                                </div>
                                                            
                                                            </div>
                                                        </div>


                                                    </div>
                                                </div>
                                            </div>
                                            
                                            </div>
                                        </form>
                            </div>
                                            </div>

                                    <!-- SCOPE SECTION END -->
                                    <div class="row"> 
                                        <div class="col-md-12">
                                            <custom-modal *ngIf="deleteScopeConfirm" (onDeleteAction)="removeScopeLine(selectDeleteIndex, selectDeleteKey, selectDeleteTypeTitle)" [parent]="this" [modalType]="'delete'"></custom-modal>
                                            <ng-container *ngIf="editScopeData != undefined && editScopeData != null">
                                                <div class="row">
                                                    <div class="col-md-12 p-0">
                                                        <div class="form-subheader-data">
                                                            <h5>SCOPE DATA</h5>
                                                        </div>
                                                    </div>
                                                </div>
                                                <custom-modal *ngIf="deleteEditScopeConfirm" (onDeleteAction)="deleteScopeData(selectDeleteKey,selectDeleteTypeKey,selectDeleteIndex)" [parent]="this" [modalType]="'delete'"></custom-modal>
                                                <ng-container *ngFor="let item of editScopeData | keyvalue">
                                                    <div class="row"> 
                                                        <div class="col-md-12">
                                                            <div class="sub-header">
                                                                <h5 [innerHTML]="getSubType(item.key)"></h5>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <ng-container *ngIf="item.value != null && item.value != undefined">
                                                        <ng-container *ngFor="let item5 of (item.value) | keyvalue;">
                                                            <div class="row">
                                                                <div class="col-md-12">
                                                                    <div class="table-appln scope-data">
                                                                        <div class="sub-header">
                                                                            <h5 [innerHTML]="getSchme(item5.key, item.key)"></h5>
                                                                        </div>
                                                                        <table>
                                                                            <tr>
                                                                                <th *ngFor="let item1 of (item5.value.scope_heading) | keyvalue;">{{item1.value}}</th>
                                                                                <th>Action</th>
                                                                            </tr>
                                                                            <ng-container *ngIf="item5.value.scope_value != undefined && item5.value.scope_value.length > 0">
                                                                                <tr *ngFor="let item2 of (item5.value.scope_value) | keyvalue; let i4 = index;">
                                                                                    <td *ngFor="let item3 of item2.value | keyvalue;">
                                                                                        <span [innerHTML]="(item3.value)"></span>
                                                                                    </td>
                                                                                    <td>
                                                                                    <span [ngStyle]="{'cursor': 'pointer'}" class="icon-cross" (click)="openDeleteEditScopeConfirm(i4, item5.key, item.key)"></span>
                                                                                    </td>                                                                
                                                                                </tr>
                                                                            </ng-container>
                                                                            <ng-container *ngIf="item5.value.scope_value != undefined && item5.value.scope_value.length == 0">
                                                                                <tr>
                                                                                    <td [attr.colspan]="Service.getObjectLength(item5.value.scope_heading)+1">
                                                                                        No Data
                                                                                    </td>
                                                                                </tr>
                                                                            </ng-container>
                                                                        </table>  
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-container>
                                                    </ng-container>
                                                </ng-container>
                                            </ng-container>
                                        </div>
                                    </div>
                                    
                                </div>
                                    </div>


                                    
                        </div>
                    </div>
                </div>



                        <div class="row">
                            <div class="col-md-12"> 
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <!-- (click)="Service.headerStepMove('personal_information',headerSteps,'menu','summary_number_ofpersonnel')" -->
                                        <!-- <a href="javascript:void(0)" class="cancel-bttn"  type="button" (click)="backScopeAccreditation();scrollPage('page_header')"
                                        >BACK</a>  Service.headerStepMove('personal_information',headerSteps,'menu','scope_accreditation')-->
                                        <a href="javascript:void(0)" class="cancel-bttn"  type="button" 
                                        (click)="backScopeAccreditation()"
                                        >BACK</a> 
                                        <!-- (click)="onSubmitStep3(ngForm3, true)" -->
                                        <button class="cancel-bttn"  type="button">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health"  (click)="continueScopeAccreditation()">CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    <!-- </form> -->
                </div>

                <div class="cust-stepper" id="other_hcab_details"  [ngStyle]="{'display':'none'}">
                    <form #ngForm4="ngForm" (ngSubmit)="onSubmitStep4(ngForm4)" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-md-12"> 

                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr">
                                                <h5>4. OTHER HCAB DETAILS</h5>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>

                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data subhead-dt">
                                                <h5>SCOPE OF HALAL CONFORMITY ASSESSMENT CERTIFICATION:</h5>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="table-content-health">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th>Type of Establishment</th>
                                                            <th>Name of Establishment</th>
                                                            <th>Contact Details,Name</th>
                                                            <th>Location/Distance</th>
                                                            <th>Product Category</th>
                                                            <th>Products</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let item of scopeofHalalConformity; let i = index;">
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="" name="type_of_establishment_{{i}}" [(ngModel)]="scopeofHalalConformity[i].type_of_establishment" required>
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input matInput placeholder="" name="name_of_establishment_{{i}}" [(ngModel)]="scopeofHalalConformity[i].name_of_establishment" required>
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input matInput placeholder="" name="contact_details_{{i}}" [(ngModel)]="scopeofHalalConformity[i].contact_details" required>
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <!-- <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input matInput placeholder="" name="location_{{i}}" [(ngModel)]="scopeofHalalConformity[i].location" required>
                                                                </mat-form-field> -->

                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Registered Physical Location Address</mat-label>
                                                                    <input matInput onpaste="return false" (keyup)="getPlaceName(i)" [matAutocomplete] = "auto" placeholder="Location Latitude/Longitude" name="location_{{i}}" [(ngModel)]="scopeofHalalConformity[i].location" required>
                                                                    <mat-autocomplete #auto = "matAutocomplete" >
                                                                        <mat-option *ngFor="let searchCountryList of searchCountryLists" [value] = "searchCountryList.place_name">
                                                                        {{searchCountryList.place_name}}
                                                                        </mat-option>
                                                                    </mat-autocomplete>
                                                                    <mat-error></mat-error>
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input matInput placeholder="" name="product_category_{{i}}" [(ngModel)]="scopeofHalalConformity[i].product_category" required>
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input matInput placeholder="" name="products_{{i}}" [(ngModel)]="scopeofHalalConformity[i].products" required>
                                                                </mat-form-field>
                                                            </td>
                                                            
                                                            <td class="content-icn">
                                                                <span *ngIf="i >= 0" class="icon-add" (click)="addRow(scopeofHalalConformity)"></span>&nbsp;
                                                                <span *ngIf="i >= 1" class="icon-cross" (click)="removeRow(scopeofHalalConformity,i)"></span>
                                                            </td>
                                                        </tr>
            
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data subhead-dt">
                                                <h5>AUTHORIZED PERSONS FOR SIGNING THE HALAL CERTIFICATES</h5>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="table-content-health">
                                                <table>
                                                    <thead>
                                                        <tr>
                                                            <th>Name of the Authorized Persons</th>
                                                            <th>Signature Specimen</th>
                                                            <th>Contact Details(Tel, Mobile No. and Email)</th>

                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr *ngFor="let item of authorizedPersonforSigning; let i = index;">
                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input  (keypress)="Service.inputFilter($event, Service.regExName)" matInput placeholder="" name="type_of_establishment_{{i}}" [(ngModel)]="authorizedPersonforSigning[i].name" required>
                                                                </mat-form-field>
                                                            </td>

                                                            <td>
                                                                <div class="matupload position-relative view_file">
                                                                    <mat-form-field  class="lng-data">
                                                                        <input matInput readonly="true" name="authorized_personforSigning_upload_{{i}}" [(ngModel)]="authorizedPersonforSigning[i].authorized_personforSigning_upload"  placeholder="Upload Document">
            
                                                                        <a *ngIf="authorizedPersonforSigning[i].signature != null" href="{{filePathVreateDynamics(authorizedPersonforSigning[i].signature)}}" target="_blank">
                                                                            <span class="icon-eye visible-pwd"></span>
                                                                        </a>
                                                                    </mat-form-field>
                                                                
                                                                    <span class="fileupload" *ngIf="authorizedPersonforSigning[i].id && authorizedPersonforSigning[i].id != ''">
                                                                        <input type="file" name="personforSigning_upload_name_{{i}}" [(ngModel)]="authorizedPersonforSigning[i].fileAny" (change)="halalCertificates($event,i,authorizedPersonforSigning[i].id)">
                                                                        <span class="icon-attach attach-data"></span>
                                                                    </span>
            
                                                                    <span class="fileupload" *ngIf="!authorizedPersonforSigning[i].id">
                                                                        <input type="file" name="personforSigning_upload_name_{{i}}" [(ngModel)]="authorizedPersonforSigning[i].fileAny" (change)="halalCertificates($event,i)">
                                                                        <span class="icon-attach attach-data"></span>
                                                                    </span>
                                                                </div>
                                                                <p class="error" *ngIf="!file_validation_listAuditor">Please Upload a valid file (ex: pdf)</p>
                                                            </td>

                                                            <td>
                                                                <mat-form-field class="cab-data">
                                                                    <mat-label>Type Here</mat-label>
                                                                    <input matInput placeholder="" name="contact_details_{{i}}" [(ngModel)]="authorizedPersonforSigning[i].contact_details" required>
                                                                </mat-form-field>
                                                            </td>
                                                            
                                                            <td class="content-icn">
                                                                <span *ngIf="i >= 0" class="icon-add" (click)="addRow(authorizedPersonforSigning)"></span>&nbsp;
                                                                <span *ngIf="i >= 1" class="icon-cross" (click)="removeRow(authorizedPersonforSigning,i)"></span>
                                                            </td>
                                                        </tr>
            
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mt-3">
                                        <div class="col-12 p-0">
                                            <div class="form-subheader-data subhead-dt">
                                                <h5>OTHER RECOGNIZED LOGOS OR SYMBOLS USED BY THE HCAB</h5>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="table-content-health">
                                                <table>
                                                    <tbody>
                                                        <tr>
                                                            <td>
                                                                <div class="matupload position-relative view_file">
                                                                    <mat-form-field  class="lng-data">
                                                                        <input matInput readonly="true" name="hcabLogo1" [(ngModel)]="hcabLogo1"  placeholder="Logo1">
                                                            
                                                                        <a *ngIf="hcabLogo1Path" href="{{hcabLogo1Path}}" target="_blank">
                                                                            <span class="icon-eye visible-pwd"></span>
                                                                        </a>
                                                                    </mat-form-field>
                                                            
                                                                    <span class="fileupload">
                                                                        <input type="file" name="id_issuedEsma" [(ngModel)]="hcabLogon1" (change)="validateFile($event,'hcabLogo1')">
                                                                        <span class="icon-attach attach-data"></span>
                                                                    </span>
                                                                    <p class="error" *ngIf="!hcabLogo1_validation">Please Upload a valid file (ex: pdf)</p>
                                                                </div>
                                                            </td>

                                                            <td>
                                                                <div class="matupload position-relative view_file">
                                                                    <mat-form-field  class="lng-data">
                                                                        <input matInput readonly="true" name="hcabLogo2" [(ngModel)]="hcabLogo2"  placeholder="Logo2">
                                                            
                                                                        <a *ngIf="hcabLogo2Path" href="{{hcabLogo2Path}}" target="_blank">
                                                                            <span class="icon-eye visible-pwd"></span>
                                                                        </a>
                                                                    </mat-form-field>
                                                            
                                                                    <span class="fileupload">
                                                                        <input type="file" name="id_issuedEsma" [(ngModel)]="hcabLogon2" (change)="validateFile($event,'hcabLogo2')">
                                                                        <span class="icon-attach attach-data"></span>
                                                                    </span>
                                                                    <p class="error" *ngIf="!hcabLogo2_validation">Please Upload a valid file (ex: pdf)</p>
                                                                </div>
                                                            </td>

                                                            <td>
                                                                <div class="matupload position-relative view_file">
                                                                    <mat-form-field  class="lng-data">
                                                                        <input matInput readonly="true" name="hcabLogo3" [(ngModel)]="hcabLogo3"  placeholder="Logo3">
                                                            
                                                                        <a *ngIf="hcabLogo3Path" href="{{hcabLogo3Path}}" target="_blank">
                                                                            <span class="icon-eye visible-pwd"></span>
                                                                        </a>
                                                                    </mat-form-field>
                                                            
                                                                    <span class="fileupload">
                                                                        <input type="file" name="id_issuedEsma" [(ngModel)]="hcabLogon3" (change)="validateFile($event,'hcabLogo3')">
                                                                        <span class="icon-attach attach-data"></span>
                                                                    </span>
                                                                    <p class="error" *ngIf="!hcabLogo3_validation">Please Upload a valid file (ex: pdf)</p>
                                                                </div>
                                                            </td>
                                                        </tr>
            
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                    
                                </div>
                            </div>
                        </div>
                
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <!-- (click)="onSubmitInformationAuditManagement()" -->
                                    <div class="button-content">
                                        <a class="cancel-bttn" href="javascript:void(0)" type="button" 
                                        (click)="Service.headerStepMove('scope_accreditation',headerSteps,'menu','other_hcab_details')">BACK</a> 
                                        <button class="cancel-bttn" type="button" (click)="savedraftStep('step4')">SAVE AS DRAFT</button> 
                                    </div>
                                    <button class="submit-bttn submit-health" >CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="perlim_visit"  [ngStyle]="{'display':'none'}">
                    <form #ngForm5="ngForm" (ngSubmit)="onSubmitStep5(ngForm5)" autocomplete="off">  
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr">
                                                <h5>5. PRELIM VISIT</h5> 
                                            </div>
                                            <hr>
                                        </div>
                                    </div>
                                    <div class="row mt-3">                                         
                                        <div class="col-md-12 p-0">
                                            <div class="row m-0">
                                                <div class="col-md-6">
                                                    <div class="request-subhdr">
                                                        <h5>Request for prelim visit</h5>
                                                    </div>
                                                </div>
                                                <!-- @@{{inspectionBodyForm.perlim_visit_val |  json}} -->
                                                <!-- (click)='proficiency_testing(1)' -->
                                                <div class="col-md-6">
                                                    <div class="request_frm">
                                                        <mat-radio-group name="is_prelim_visit" #selectPrelim="ngModel"
                                                        [(ngModel)]="step5Data.prelim_visit_val" required>
                                                            <mat-radio-button value="1">Yes </mat-radio-button>
                                                            <mat-radio-button value="0">No </mat-radio-button>
                                                        </mat-radio-group>
                                                        <div class="col-md-12 p-0"  [ngStyle]="{'margin-top':'5px','margin-left' : '40px'}">
                                                            <p class="error" *ngIf="isPrelimSubmitted == true && selectPrelim.errors?.required">Please select anyone option</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>                                                    
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12" *ngIf="step5Data.prelim_visit_val === '1'">
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Select Date</mat-label>
                                                        <input matInput  readonly="true" (click)="Service._openCalendar(prelim_visit_date)"  
                                                        [matDatepicker]="prelim_visit_date"  placeholder="Select Date" name="prelim_visit_date" 
                                                        [(ngModel)]="step5Data.prelim_visit_date" (dateChange)="setexDate()" required>
                                                        <mat-datepicker-toggle matSuffix [for]="prelim_visit_date"></mat-datepicker-toggle>
                                                        <mat-datepicker #prelim_visit_date  disabled="false" ></mat-datepicker>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-6">
                                                    <mat-form-field class="frm-data">
                                                        <mat-label>Select Time</mat-label>
                                                        <mat-select placeholder="Select" name="prelim_visit_time" 
                                                        (selectionChange)="getDutyTimeForm1Index($event)" 
                                                        [(ngModel)]="step5Data.prelim_visit_time" required>
                                                            <mat-option *ngFor="let item of addMinutesToTime; let i = index;" 
                                                            [value]="item.key">{{item.val}}</mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <!--  (click)="onSubmitPerlimVisit()" -->
                                    <div class="button-content">
                                        <a class="cancel-bttn" href="javascript:void(0)" type="button" 
                                        (click)="Service.headerStepMove('other_hcab_details',headerSteps,'menu','perlim_visit')">BACK</a>
                                        <button class="cancel-bttn" type="button" (click)="savedraftStep('step5')">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health">CONTINUE</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                

                <div class="cust-stepper" id="undertaking_applicant"  [ngStyle]="{'display':'none'}">
                    <form #ngForm6="ngForm" (ngSubmit)="onSubmitUndertakingApplicant(ngForm6)" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <div class="col-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr">
                                                <h5>7. AUTHORIZATION OF THE APPLICATION</h5>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>
                                    <!-- <div class="row">
                                        <div class="col-md-4">
                                            <mat-checkbox name="undertaking_confirmTop1" 
                                                [(ngModel)]="authorizationList.undertaking_confirmTop1" required></mat-checkbox>
                                        </div>
                                        <div class="col-md-8">
                                            I confirm that the information provided in this application form is true and correct
                                        </div>
                                    </div> -->
                                    <div class="auth">
                                        <ul>
                                            <li>
                                                <mat-checkbox  (change)="authorizeCheckCount($event)" name="authorization_confirm1" [(ngModel)]="authorizationList.authorization_confirm1" >I confirm that the information provided in this application form is true and correct.</mat-checkbox>
                                            </li>
                                            
                                            <li class="terms-condition"  (scroll)="scrollHandler($event)" #mydiv style="height:500px;overflow:auto">
                                                <div class="tnc" [innerHTML]="(termsGeneral != undefined && termsGeneral.content != undefined) ? termsGeneral.content : ''"></div>
                                              
                                            </li>
                                        
                                            <li>
                                                <mat-checkbox name="authorization_confirm2" [disableRipple]="true"
                                                (click)="$event.preventDefault()" [(ngModel)]="authorizationList.authorization_confirm2" >I acknowledge that I have read and understood and confirm to abide by the Accreditation Agreement.</mat-checkbox>
                                            </li>
                                        </ul>
                                        <p class="error" *ngIf="!readTermsCond  && isApplicationSubmitted == true">Read the Terms and Conditions</p>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <!-- <div class="authData">
                                                
                                                <mat-checkbox name="undertaking_confirmTop3"  (change)="authorizeCheckCount($event)"
                                                [(ngModel)]="authorizationList.undertaking_confirmTop3" required>Do you require ILA MRA Mark Laboratories</mat-checkbox>
                                            </div>

                                            <div class="terms-condition" style="height:500px;overflow:auto" *ngIf="authorizationList.undertaking_confirmTop3">
                                                <div class="tnc" [innerHTML]="(termsILA != undefined && termsILA.content != undefined) ? termsILA.content : ''"></div>
                                            </div> -->

                                            <div class="authData">I confirm that the below documents are available and will be furnished once requested by EIAC:</div>
                                            <div class="auth-details">
                                                <table>
                                                    <tr>
                                                        <td width="1%">
                                                            <mat-checkbox name="undertaking_confirm1"  (change)="authorizeCheckCount($event)"
                                                            [(ngModel)]="authorizationList.undertaking_confirm1"></mat-checkbox></td>
                                                        <td>Master list of documents and forms</td>
                                                    </tr>
                                                    <tr>
                                                        <td><mat-checkbox name="undertaking_confirm2" [disableRipple]="true"
                                                            (click)="$event.preventDefault()" [(ngModel)]="authorizationList.undertaking_confirm2"></mat-checkbox></td>
                                                        <td><span><a href="javascript:void(0)"  (click)="openView(checklistView, 'checklist')">Filled In  Document Review Checklist</a></span>(Related to applied accreditation standard  e.g. UAE 2055-2, SMIIC-2 and for 1st submission only)&nbsp;&nbsp;<a class="info" href="javascript:void(0)"><span class="icon-info"></span> </a>&nbsp;<span [ngStyle]="{'font-size': '14px'}">Please review the checklist</span><br/>
                                                            <!--   && isApplicationSubmitted == true -->
                                                            <!-- <p class="error" *ngIf="!readReviewChecklist && !authorizationList.undertaking_confirm2">Please review the checklist</p>                                                             -->
                                                        </td> 
                                                    </tr>
                                                    <tr>
                                                        <td><mat-checkbox  (change)="authorizeCheckCount($event)" name="undertaking_confirm3" [(ngModel)]="authorizationList.undertaking_confirm3"></mat-checkbox></td>
                                                        <td>Quality Manual</td>
                                                    </tr>
                                                    <tr>
                                                        <td><mat-checkbox  (change)="authorizeCheckCount($event)" name="undertaking_confirm4" [(ngModel)]="authorizationList.undertaking_confirm4"></mat-checkbox></td>
                                                        <td>Internal Procedures (as per the accreditation criteria)</td>
                                                    </tr>
                                                    <tr>
                                                        <td><mat-checkbox  (change)="authorizeCheckCount($event)" name="undertaking_confirm5" [(ngModel)]="authorizationList.undertaking_confirm5"></mat-checkbox></td>
                                                        <td>Companies and Products List Certified By HCB</td>
                                                    </tr>
                                                    <tr>
                                                        <td><mat-checkbox  (change)="authorizeCheckCount($event)" name="undertaking_confirm6" [(ngModel)]="authorizationList.undertaking_confirm6"></mat-checkbox></td>
                                                        <td>List of documents required for Halal CAB Accreditation</td>
                                                    </tr>
                                                    <tr>
                                                        <td><mat-checkbox  (change)="authorizeCheckCount($event)" name="undertaking_confirm7" [(ngModel)]="authorizationList.undertaking_confirm7"></mat-checkbox></td>
                                                        <td>Slaughterhouse And Meat Products List</td>
                                                    </tr>
                                                    <tr>
                                                        <td><mat-checkbox  (change)="authorizeCheckCount($event)" name="undertaking_confirm8" [(ngModel)]="authorizationList.undertaking_confirm8"></mat-checkbox></td>
                                                        <td>Minutes of last Management Review Meeting</td>
                                                    </tr>
                                                    <tr>
                                                        <td><mat-checkbox  (change)="authorizeCheckCount($event)" name="undertaking_confirm9" [(ngModel)]="authorizationList.undertaking_confirm9"></mat-checkbox></td>
                                                        <td>Report of last Internal Audit</td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <!-- <div class="row">
                                                <div class="col-md-12">
                                                    <p class="error" *ngIf="!authorizationStatus  && isApplicationSubmitted == true">All check are required.</p>
                                                </div>
                                            </div> -->
                                            <div class="recommend my-3">
                                                <div class="recommend-main">
                                                    <div class="recommend-quarter">
                                                        <span class="confirm">I recommend the visit to be conducted in the<span class="required_input">*</span></span>
                                                            <mat-checkbox  name="recommend_visit"  *ngFor="let item of recomendVisit; let k=index;"
                                                            [(ngModel)]="item.checked" [ngModelOptions]="{standalone: true}" required>{{item.label}}</mat-checkbox>
                                                    </div> 
                                                    <span class="confirm">quarter of the year</span>
                                                    <div class="recommend-year">
                                                        <mat-select placeholder="Select" name="recommend_year"  [(ngModel)]="step6Data.recommend_year" required [ngStyle]="{'width':'75px'}">
                                                            <mat-option [value]="item.value" *ngFor="let item of recommendYearValues; let k=index;">{{item.title}}</mat-option>
                                                        </mat-select>
                                                    </div>
                                                </div>
                                                <div class="col-md-6 p-0" [ngStyle]="{'margin-top':'5px'}">
                                                </div>                                                
                                            </div>

                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-12">
                                            <div class="row">
                                                <div class="col-md-12 p-0">
                                                    <div class="form-subhdr">
                                                        <h5>ON THE BEHALF OF THE APPLICANT COMPANY</h5>
                                                    </div>
                                                    <hr>
                                                </div>
                                            </div>

                                            <div class="auth">
                                                <mat-checkbox  (change)="authorizeCheckCount($event)" name="undertaking_confirm10" 
                                                [(ngModel)]="authorizationList.undertaking_confirm10">
                                                    Entering the authorised name will serve as an acceptance and digital binding signature for this agreement<span class="required_input">*</span>
                                                </mat-checkbox>
                                            </div>
    
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <p class="error" *ngIf="!authorizationStatus && isApplicationSubmitted == true">All checkboxes are mandatory.</p>
                                                </div>
                                            </div>

                                            <div class="row mt-3">
                                                <div class="col-12 p-0">
                                                    <div class="form-subheader-data subhead-dt">
                                                        <h5>SIGNED FOR AND ON BEHALF OF APPLICANT</h5>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-4 col-sm-12">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Organization Name</mat-label>
                                                        <input  
                                                        (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                        matInput placeholder="Organization Name" name="onbehalf_company_name" 
                                                        [(ngModel)]="step6Data.organization_name" readonly>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4 col-sm-12">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Full Name of Authorized Representative</mat-label>
                                                        <input  
                                                        (keypress)="Service.inputFilter($event, Service.regExName)" matInput 
                                                        placeholder="Full Name of Authorized Representative" name="onbehalf_representative_name" 
                                                        [(ngModel)]="step6Data.representative_name" required>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-4 col-sm-12">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Designation</mat-label>
                                                        <input  (keypress)="Service.inputFilter($event, Service.regExName)" 
                                                        matInput placeholder="Designation" name="designation" [(ngModel)]="step6Data.designation" required>
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6 col-sm-12">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Digital Signature</mat-label>
                                                        <input  
                                                        (keypress)="Service.inputFilter($event, Service.regExName)" matInput 
                                                        placeholder="Digital Signature" name="digi_sign" [(ngModel)]="step6Data.digital_signature" required>
                                                    </mat-form-field>
                                                </div>
                                                <div class="col-md-6 col-sm-12">
                                                    <mat-form-field class="cab-data">
                                                        <mat-label>Date</mat-label>
                                                        <input matInput placeholder="Date" [matDatepicker]="onbehalf_representative_date" name="onbehalf_representative_date" 
                                                        [(ngModel)]="step6Data.application_date" [value]="Service.returnCurrentDate()">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <a href="javascript:void(0)" class="cancel-bttn" type="button" (click)="Service.headerStepMove('perlim_visit',headerSteps,'menu','undertaking_applicant')">BACK</a> 

                                        <button class="cancel-bttn" type="button" (click)="savedraftStep('step6')">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health" >SUBMIT</button>
                                    <!-- <ng-container *ngIf="transactions.length">
                                        <div id="paypalPayment"></div>
                                    </ng-container>                                                  -->
                                </div>
                            </div>
                        </div>

                        <div class="row"> 
                            <span id="openPayDialog" (click)="openViewAuth(payComp)"></span>
                            <ng-template #payComp let-modal>
                                <div class="main_pop">
                                    <!-- <div class="pop_close">
                                        <span class="icon-close"></span>
                                    </div> -->
                                    <div class="pop_thanks">
                                        <h5>Thank you</h5>
                                        <p>Your Application has been received, please wait for the Proforma Invoice to be generated, to proceed with 
                                            payment</p>
                                        <button class="submit-bttn" (click)="closeDialog()"
                                        routerLink="/dashboard/status/all">Return to Status</button>
                                    </div>
                                </div>
                            </ng-template>
                        </div>
                    </form>
                    <ng-template #agreementView let-modal>
                        <div class="modal-header">
                            <h4 class="modal-title" id="modal-basic-title">AGREEMENT</h4>
                            <!-- <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                            <span aria-hidden="true">&times;</span>
                            </button> -->
                        </div>
                        <div class="modal-body">                            
                            <app-loader *ngIf="loaderPdf"></app-loader>
                            <p *ngIf="errorLoader">Error Loading PDF</p>
                            <div class="pdf-parent">
                            <pdf-viewer [src]="(pathPDF)" [show-all]="true" [stick-to-page]="true"
                                [zoom]="1.0" [original-size]="false" [autoresize]="true"
                                [show-borders]="true" (error)="onError($event)" (on-progress)="onProgress($event)"
                                (after-load-complete)="completeLoadPDF($event)"
                                [render-text]="true">
                            </pdf-viewer>
                            <button class="submit-bttn submit-health" (click)="agreeView()">AGREE</button>
                            </div>
                            <!-- openModal() {
                                this.bsModalRef = this.modalService.show(modalComponent, {class: 'modal-lg'});
                            } -->
                        </div>
                        <div class="modal-footer">
                        </div>
                        </ng-template>
                        <ng-template #checklistView let-modal>
                        <div class="modal-header">
                            <!-- <h4 class="modal-title" id="modal-basic-title">CHECKLIST</h4>
                            <button type="button" class="close" aria-label="Close" (click)="closeChecklistDialog()">
                            <span aria-hidden="true">&times;</span>
                            </button> -->

                            <h4 class="modal-title" id="modal-basic-title">CHECKLIST
                                <a [href]="pathPDF" target="_blank" [ngStyle]="{'color': '#000'}">
                                    <span class="icon-download-diff"></span>
                                </a>       
                            </h4>
                              <button type="button" class="close" aria-label="Close" (click)="closeDialog()">
                                <span aria-hidden="true">&times;</span>
                              </button>
                        </div>
                        <div class="modal-body"> 
                            <app-loader *ngIf="loaderPdf"></app-loader>
                            <p *ngIf="errorLoader">Error Loading PDF</p>
                            <pdf-viewer [src]="(pathPDF)" [show-all]="true" [stick-to-page]="true"
                                [zoom]="1.0" [original-size]="false" [autoresize]="true"
                                [show-borders]="true" (error)="onError($event)" (on-progress)="onProgress($event)"
                                (after-load-complete)="completeLoadPDF($event)"
                                [render-text]="true">
                            </pdf-viewer>
                            <button class="submit-bttn submit-health" (click)="closeChecklistDialog()">AGREE</button>
                        </div>
                        <div class="modal-footer">
                        </div>
                    </ng-template>
                </div>

                <div class="cust-stepper" id="proforma_invoice" [ngStyle]="{'display':'none'}">
                    <form #ngForm8="ngForm" (ngSubmit)="onSubmitStep7(ngForm7)" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <!--  (ngSubmit)="onSubmitPaymentInformation(ngForm8)" -->
                                <div class="col-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr">
                                                <h5>8. Proforma Invoice</h5>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>
                                    <!-- paymentFilePath -->
                                    <div class="row">
                                        <app-loader *ngIf="loaderPdf"></app-loader>
                                        <p *ngIf="errorLoader">Error Loading PDF</p>
                                        <pdf-viewer [src]="paymentFilePath" [show-all]="true" [stick-to-page]="true"
                                            [zoom]="1.0" [original-size]="false" [autoresize]="true"
                                            [show-borders]="true" (error)="onError($event)" (on-progress)="onProgress($event)"
                                            (after-load-complete)="completeLoadPDF($event)"
                                            [render-text]="true" [ngStyle]="{'margin':'0 auto'}">
                                        </pdf-viewer>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <div class="button-content">
                                        <!-- <a href="javascript:void(0)" class="cancel-bttn" type="button" (click)="Service.headerStepMove('undertaking_applicant',headerSteps,'menu','proforma_invoice')">BACK</a>  -->
                                        <!-- <button class="cancel-bttn" type="button" (click)="onSubmitProformaInvoice(ngForm8, true)">SAVE AS DRAFT</button> -->
                                        <!-- <button class="submit-bttn submit-health" (click)="Service.moveSteps('proforma_invoice','payment_update',headerSteps)">CONTINUE</button> -->
                                    </div>
                                    <div class="bttn_wrap" *ngIf="paymentFilePath != ''">
                                        <button class="submit-bttn submit-health mr-5">PROCEED TO PAYMENT</button>
                                        <button class="submit-bttn submit-health" type="button" (click)="step_payment()">UPDATE PAYMENT</button>
                                    </div>
                                    <ng-container *ngIf="transactions.length && paymentMode == 'Sandbox'">
                                        <div id="paypalPayment"></div>
                                    </ng-container>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="cust-stepper" id="payment_update" [ngStyle]="{'display':'none'}">
                    <form #ngForm8="ngForm" (ngSubmit)="onSubmitPaymentInformation(ngForm8)" autocomplete="off">
                        <div class="row form-bdy m-0">
                            <div class="wrapper">
                                <!--  (ngSubmit)="onSubmitPaymentInformation(ngForm8)" -->
                                
                                <div class="col-12">
                                    <div class="row">
                                        <div class="col-md-12 p-0">
                                            <div class="form-subhdr">
                                                <h5>9. Payment Update</h5>
                                            </div>
                                            <hr>
                                        </div>
                                    </div>
                                    <div class="row  mt-3">
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Voucher Code</mat-label>
                                                <input type="text" [ngModelOptions]="{standalone: true}"
                                                matInput placeholder="Voucher Code" readonly="true"
                                                [(ngModel)]="voucherSentData.voucher_code">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Payment Date</mat-label>
                                                <input matInput [matDatepicker]="payment_date" 
                                                (click)="Service._openCalendar(payment_date)" name="payment_date" 
                                                [(ngModel)]="voucherSentData.payment_date" placeholder="Payment Date" required>
                                                <mat-datepicker-toggle (click)="Service._openCalendar(payment_date)" matSuffix [for]="payment_date"></mat-datepicker-toggle>
                                                <mat-datepicker #payment_date disabled="false"></mat-datepicker>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data cur-aed" [floatLabel]="'always'">
                                                <input type="number" [ngModelOptions]="{standalone: true}" required="true"
                                                matInput placeholder="Payment Amount" [(ngModel)]="voucherSentData.amount">
                                                <span matPrefix>AED&nbsp;</span>
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Transaction Number</mat-label>
                                                <input type="text" [ngModelOptions]="{standalone: true}" required="true"
                                                matInput placeholder="Transaction Number" 
                                                [(ngModel)]="voucherSentData.transaction_no">
                                            </mat-form-field>
                                        </div>
                                        <!-- <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Payment Method</mat-label>
                                                <mat-select placeholder="Select" name="city" [(ngModel)]="voucherSentData.payment_method" required>
                                                    <mat-option value="Cash">Cash</mat-option>
                                                    <mat-option value="Online">Online</mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div> -->
                                        
                                        <div class="col-md-4">
                                            <mat-label [ngStyle]="{'font-size': '16px'}">Payment Method</mat-label>
                                            <mat-radio-group name="payment_method" 
                                            [(ngModel)]="voucherSentData.payment_method" required>
                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <label class="check-rdo">
                                                            <mat-radio-button value="Cash">Cash</mat-radio-button>
                                                        </label>
                                                    </div>  
                                                    <div class="col-md-4">
                                                        <label class="check-rdo">
                                                            <mat-radio-button value="Online">Online</mat-radio-button>
                                                        </label>
                                                    </div>  
                                            
                                                </div>
                                            </mat-radio-group>
                                        </div>

                                        <div class="col-md-4">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Payment Made By</mat-label>
                                                <input type="text" [ngModelOptions]="{standalone: true}" required="true"
                                                matInput placeholder="Payment Made By" 
                                                [(ngModel)]="voucherSentData.payment_made_by">
                                            </mat-form-field>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <mat-form-field class="cab-data">
                                                <mat-label>Mobile Number</mat-label>
                                                <input type="text" [ngModelOptions]="{standalone: true}" required="true"
                                                matInput placeholder="Mobile Number" 
                                                [(ngModel)]="voucherSentData.mobile_no" required>
                                            </mat-form-field>
                                        </div>
                                        <div class="col-md-6">
                                            <span class="fileupload">
                                                <input type="file" name="payment_receipt"                                
                                                (change)="validateFileVoucher($event, 'payment_receipt')" required>
                                                <span class="icon-attach attach-data"></span>
                                            </span>
                                            <a class="image_file_link" *ngIf="paymentFile != false && paymentFile != true" target="_blank" [href]="paymentFile">Link</a>
                                            <p class="error" *ngIf="paymentReceiptValidation == false || paymentReceiptValidation == undefined">Please Upload a valid file (ex: pdf)</p>
                                        </div>

                                    </div>
                                </div>

                                <span id="openAppDialog" (click)="openView(appComp)"></span>
                                <ng-template #appComp let-modal>
                                    <div class="main_pop">
                                        <!-- <div class="pop_close">
                                            <span class="icon-close"></span>
                                        </div> -->
                                        <div class="pop_thanks">
                                            <h5>Thank you</h5>
                                            <p>Your Application has been submitted successfully and is under review. Please check the status and your dashboard for updates.</p>
                                            <button class="submit-bttn" (click)="closeChecklistDialog()" 
                                            routerLink="/dashboard/status/all">Return to Status</button>
                                        </div>
                                    </div>
                                </ng-template>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="bttns-health bttn-staff">
                                    <!-- (click)="onSubmitPaymentInformation()" -->
                                    <!-- <button class="cancel-bttn" type="button" (click)="Service.headerStepMove('proforma_invoice',headerSteps,'menu','payment_update')">BACK</button> -->
                                    <!-- <ng-container *ngIf="voucherSentData.transaction_no == '' || voucherSentData.transaction_no == null || voucherSentData.transaction_no == 'undefined'">
                                        <a href="javascript:void(0)" class="cancel-bttn" type="button" 
                                        (click)="Service.headerStepMove('proforma_invoice',headerSteps,'menu','payment_update')">BACK</a>
                                    </ng-container> -->
                                    <div class="button-content">
                                        <ng-container *ngIf="!paymentStepComp">
                                        <a href="javascript:void(0)" class="cancel-bttn" type="button" 
                                            (click)="Service.headerStepMove('proforma_invoice',headerSteps,'menu','payment_update')">BACK
                                        </a>
                                    </ng-container>
                                    <!-- savedraftStep('step8') -->
                                        <button class="cancel-bttn" type="button" (click)="onSubmitPaymentInformation(ngForm8, true);">SAVE AS DRAFT</button>
                                    </div>
                                    <button class="submit-bttn submit-health" >SUBMIT</button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                
                <div class="cust-stepper" id="application_complete" [ngStyle]="{'display':'none'}">
                    <div class="row mt-3">
                        <div class="col-md-12">                        
                            <a href="javascript:void(0)" class="cancel-bttn" type="button" (click)="Service.headerStepMove('payment_update',headerSteps,'menu','application_complete')">BACK</a>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </section>
</div>
<!-- <app-footer (onData)="getData($event)"></app-footer> -->